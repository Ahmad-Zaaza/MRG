(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[11],{276:function(e,t,a){"use strict";a.d(t,"a",(function(){return z}));var l=a(2),n=a(1),r=a.n(n),s=a(9),c=a.n(s),i=a(14),m=a.n(i),o=(a(28),a(153)),d=a(105),u=a(154),p=a(47),b=a(36),h=a(3),x=a.n(h),f=a(16),E=a(6),v=a(29),y=a(63),g=a(21),N=a(54),w=a(18),j=a(43),O=a(5),k=[{value:"+965",label:"+965"},{value:"+966",label:"+966"}];function C(e){var t=e.markerAddress,a=e.setShowMap,n=e.marker,s=e.setMarker,c=r.a.useState(k[0]),i=Object(l.a)(c,2),o=i[0],d=i[1],u=r.a.useContext(w.a).addAddressMutation,p=r.a.useState(""),b=Object(l.a)(p,2),h=b[0],N=b[1],C=r.a.useState(!1),D=Object(l.a)(C,2),P=D[0],q=D[1],z=Object(y.a)().formatMessage,A=r.a.useState(!1),T=Object(l.a)(A,2),B=T[0],L=T[1],F=g.a({apartmentOrHouseNumber:g.c().required(z({id:"required-field"})),buildingOrTowerNumber:g.c().required(z({id:"required-field"})),addressName:g.c().required(z({id:"required-field"})),phoneNumber:g.c().matches(/^\d+$/,z({id:"number-only"})).required(z({id:"required-field"})),additionalDetails:g.c()});return r.a.createElement("div",null,r.a.createElement(O.a,null,P&&r.a.createElement(j.a,{message:z({id:"something-went-wrong-snackbar"}),closeFunction:function(){q(!1)}})),r.a.createElement("div",{className:"font-bold p-2"},r.a.createElement("h1",null,z({id:"location-details"}))),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"flex justify-between"},r.a.createElement("label",{htmlFor:"location",className:"text-sm font-semibold text-gray-700"},z({id:"delivery-location"})),r.a.createElement("button",{onClick:function(){s(null),N("")},className:"text-main-color hover:underline"},z({id:"clear"}))),r.a.createElement("textarea",{rows:"3",id:"location",className:" mt-1 w-full rounded border  p-1  ",type:"textarea",value:t||h,readOnly:t,onChange:function(e){return N(e.target.value)}}),r.a.createElement(v.a,{initialValues:{apartmentOrHouseNumber:"",buildingOrTowerNumber:"",phoneNumber:"",additionalDetails:"",addressName:""},validationSchema:F,onSubmit:function(){var e=Object(E.a)(x.a.mark((function e(l){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng,defaultLocation:B,addressDetails:Object(f.a)({phoneNumber:"".concat(o.value).concat(l.phoneNumber)},l,{markerAddress:t,userTyped_address:h})});case 3:a(!1),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),q(!0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,l=e.values,n=e.isSubmitting;return r.a.createElement("form",{onSubmit:a},r.a.createElement(_,{label:z({id:"maps-detailed-address-phone"}),name:"phoneNumber",value:l.phoneNumber,type:"text",countryCode:o,setCountryCode:d}),r.a.createElement("div",{className:"grid grid-cols-2 gap-1"},r.a.createElement(S,{label:z({id:"maps-detailed-address-apartment"}),name:"apartmentOrHouseNumber",value:l.apartmentOrHouseNumber,type:"text"}),r.a.createElement(S,{label:z({id:"maps-detailed-address-building"}),name:"buildingOrTowerNumber",value:l.buildingOrTowerNumber,type:"text"})),r.a.createElement(S,{label:z({id:"maps-detailed-address-name"}),name:"addressName",value:l.addressName,type:"text"}),r.a.createElement(M,{label:z({id:"maps-details-extra-details"}),name:"additionalDetails",value:l.additionalDetails}),r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement("label",null,z({id:"mark-as-default"})),r.a.createElement("input",{className:" mx-2",type:"checkbox",checked:B,onChange:function(){return L(!B)}})),r.a.createElement("button",{type:"submit",disabled:!t||h,className:"  ".concat(!t||h?"bg-gray-500 text-gray-300":"bg-main-color text-main-text"," p-2 rounded  w-full  flex items-center uppercase justify-center font-semibold")},n?r.a.createElement(m.a,{type:"ThreeDots",color:"#fff",height:23,width:23,visible:n}):r.a.createElement("h1",null,z({id:"confirm-btn"})))))}))))}var S=function(e){var t=e.label,a=(e.value,e.name),n=Object(b.a)(e,["label","value","name"]),s=Object(v.b)(a),c=Object(l.a)(s,2),i=c[0],m=c[1];return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-700"},t),r.a.createElement("input",Object.assign({},i,n,{onBlur:function(e){i.onBlur(e)},className:" w-full rounded-sm border   p-1"})),m.touched&&m.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},m.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},M=function(e){var t=e.label,a=(e.value,e.name),n=Object(b.a)(e,["label","value","name"]),s=Object(v.b)(a),c=Object(l.a)(s,1)[0],i=Object(y.a)().formatMessage;return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-700"},t),r.a.createElement("h1",{className:"text-xs italic mx-3"},"(",i({id:"maps-details-optional"}),")")),r.a.createElement("textarea",Object.assign({rows:3},c,n,{onBlur:function(e){c.onBlur(e)},className:" w-full rounded-sm border   p-1"})))},_=function(e){var t=e.label,a=(e.value,e.name),n=e.countryCode,s=e.setCountryCode,c=Object(b.a)(e,["label","value","name","countryCode","setCountryCode"]),i=Object(v.b)(a),m=Object(l.a)(i,2),o=m[0],d=m[1];return r.a.createElement("div",{className:"w-full mb-1 flex flex-col "},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-800 mb-1"},t),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"0.4fr 1fr",gap:"0.5rem"}},r.a.createElement(N.a,{options:k,isSearchable:!1,value:n,onChange:s,styles:{dropdownIndicator:function(e){return Object(f.a)({},e,{padding:"0.25rem"})},valueContainer:function(e){return Object(f.a)({},e,{padding:"0.5rem"})}}}),r.a.createElement("input",Object.assign({},o,c,{onBlur:function(e){o.onBlur(e)},className:" border rounded w-full p-2 ".concat(d.error&&"border-main-color")}))),d.touched&&d.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},d.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},D=["places"],P={lat:29.3759,lng:47.9774},q={styles:o.a,disableDefaultUI:!0,zoomControl:!0};function z(e){var t=e.setShowMap,a=Object(p.useMediaQuery)({query:"(min-width: 768px)"}),n=Object(y.a)().formatMessage,s=Object(d.d)({googleMapsApiKey:"AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg",libraries:D}),i=s.isLoaded,o=s.loadError,b=r.a.useState(null),h=Object(l.a)(b,2),x=h[0],f=h[1],E=r.a.useState(null),v=Object(l.a)(E,2),g=v[0],N=v[1],w=r.a.useState(null),j=Object(l.a)(w,2),O=j[0],k=j[1],S=r.a.useRef(),M=r.a.useCallback((function(e){S.current=e}),[]),_=r.a.useCallback((function(e){var t=e.lat,a=e.lng;S.current.panTo({lat:t,lng:a}),f({lat:t,lng:a}),N(null)}),[]);return r.a.useEffect((function(){x?c.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(x.lat,",").concat(x.lng,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg")).then((function(e){console.log(e.data),k("".concat(e.data.results[0].formatted_address)),N("".concat(e.data.results[0].address_components.map((function(e){return e.short_name})).join(", ")))})).catch((function(e){return console.log(e)})):(k(null),N(null))}),[x]),o?r.a.createElement("div",{className:"flex justify-center items-center",style:{height:"calc(-173px + 100vh)"}},r.a.createElement("h1",null,n({id:"error-loading-maps"}))):i?r.a.createElement("div",{className:"".concat(a?"my-addresses-desktop-maps__grid":"my-addresses-mobile-maps__grid")},r.a.createElement("div",{className:"relative h-full"},r.a.createElement(u.a,{panTo:_,markerAddress:O}),r.a.createElement(d.a,{mapContainerStyle:{width:"100%",height:a?"100%":"500px"},zoom:15,center:P,options:q,clickableIcons:!1,onLoad:M,onClick:function(e){f({lat:e.latLng.lat(),lng:e.latLng.lng()})}},x&&r.a.createElement(d.c,{position:{lat:null===x||void 0===x?void 0:x.lat,lng:null===x||void 0===x?void 0:x.lng}}),g&&r.a.createElement(d.b,{onCloseClick:function(){return N(null)},position:{lat:null===x||void 0===x?void 0:x.lat,lng:null===x||void 0===x?void 0:x.lng},options:{pixelOffset:new window.google.maps.Size(0,-50)}},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",null,r.a.createElement("h1",null,g)))))),r.a.createElement(C,{markerAddress:O,marker:x,setShowMap:t,setMarker:f})):r.a.createElement("div",{className:"flex justify-center items-center",style:{height:"calc(-176px + 100vh)"}},r.a.createElement(m.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!i}))}},279:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var l=a(1),n=a.n(l),r=a(55),s=a.n(r),c=a(139),i=a.n(c);function m(e){var t=e.alt,a=e.lat,l=e.width,r=e.height,c=e.lng;return n.a.createElement("div",{style:{position:"relative",backgroundColor:"#fff",paddingBottom:"calc(100% * ".concat(r,"/").concat(l,")"),width:"100%"}},n.a.createElement(s.a,{placeholder:n.a.createElement("img",{src:i.a,alt:t}),className:"max-h-full"},n.a.createElement("img",{src:a?"https://maps.googleapis.com/maps/api/staticmap?center=".concat(a,",").concat(c,"&zoom=15&size=").concat(l,"x").concat(r,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"):i.a,alt:t,style:{maxHeight:"100%",maxWidth:"100%",display:"block",left:0,right:0},className:"mx-auto my-0 absolute"})))}},286:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var l=a(5),n=a(1),r=a.n(n),s=a(26);function c(e){var t=e.message,a=e.closeFunction;return r.a.createElement(l.c.div,{variants:{hidden:{y:"20px",x:"-50%",opacity:0},visible:{y:0,opacity:1},exited:{y:20,opacity:0}},initial:"hidden",animate:"visible",exit:"exited",className:"snackbar bg-green-800 text-main-text rounded font-semibold flex text-sm"},r.a.createElement("h1",{className:"mx-3"},t),r.a.createElement("button",{onClick:a,className:"mx-3"},r.a.createElement(s.b,{className:"w-5 h-5"})))}},287:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var l=a(1),n=a.n(l),r=a(32),s=a(63),c=a(288),i=a.n(c);function m(e){var t=e.setShowMap,a=Object(s.a)().formatMessage;return n.a.createElement("div",{className:"flex flex-col justify-center items-center",style:{height:"calc(-176px + 100vh)"}},n.a.createElement("img",{src:i.a,alt:"map",style:{height:"250px"},className:"mb-6"}),n.a.createElement("div",{className:"flex flex-col items-center"},n.a.createElement("h1",{className:"text-lg text-center font-semibold"},a({id:"no-addresses-yet"})),n.a.createElement("button",{onClick:function(){return t(!0)},className:" mt-3  font-semibold flex items-center rounded px-4 py-2 \n           \n             bg-btn-primary-light text-btn-secondary-light\n            \n           "},n.a.createElement("h1",{className:"mx-2 uppercase"},a({id:"add-new-address"})),n.a.createElement(r.f,{className:"w-20p h-20p"}))))}},288:function(e,t,a){e.exports=a.p+"static/media/manWithMap.69817732.svg"},289:function(e,t,a){e.exports=a.p+"static/media/shoppingLost.8712e6ec.svg"},323:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return me}));var l=a(1),n=a.n(l),r=a(270),s=a(5),c=a(63),i=a(34),m=a(4),o=a(18),d=a(78);function u(){return n.a.createElement(d.a,{speed:2,viewBox:"0 0 250 98",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},n.a.createElement("ellipse",{x:"48",y:"48",rx:"50",ry:"50",width:"30",height:"46"}),n.a.createElement("rect",{x:"80",y:"25",rx:"5",ry:"5",width:"140",height:"25"}),n.a.createElement("rect",{x:"80",y:"55",rx:"5",ry:"5",width:"140",height:"25"}),n.a.createElement("rect",{x:"80",y:"85",rx:"5",ry:"5",width:"140",height:"25"}))}var p=a(66);function b(){var e=Object(c.a)().formatMessage,t=n.a.useContext(o.a),a=t.userData,l=t.authenticationLoading,r=t.authenticationFetching,i=t.userLogoutMutation;return l||r?n.a.createElement(u,null):n.a.createElement(s.c.div,{className:"flex mb-4 rounded-lg  p-2 border shadow-itemsSlider-shallow overflow-hidden "},n.a.createElement("div",{className:"flex items-center justify-center",style:{flexBasis:"20%"}},n.a.createElement("div",{className:"p-2 text-xl text-body-light rounded-full bg-gray-500"},null===a||void 0===a?void 0:a.name.split(" ")[0].charAt(0).toUpperCase())),n.a.createElement("div",{className:" flex flex-col items-center text-sm flex-1 justify-center font-semibold mx-2 "},n.a.createElement("div",{className:"flex mb-1 items-center "},n.a.createElement("h1",null,e({id:"welcome-user"})," "),n.a.createElement("h1",{className:"mx-1"},null===a||void 0===a?void 0:a.name)),n.a.createElement("h1",{className:"mb-1"},null===a||void 0===a?void 0:a.mobile),n.a.createElement("div",{className:"flex items-center"},n.a.createElement(p.b,{className:" w-5 h-5 text-main-color"}),n.a.createElement("button",{onClick:i,className:"hover:underline mx-1 font-semibold  text-main-color"},e({id:"logout"})))))}function h(){var e=Object(c.a)().formatMessage,t=Object(i.j)().url;return n.a.createElement(s.c.div,{initial:!1,layout:!0,className:" flex flex-col self-start "},n.a.createElement(b,null),n.a.createElement("div",{className:"flex flex-col rounded-lg overflow-hidden shadow-itemsSlider-shallow "},[{url:"",name:"my-profile"},{url:"/addresses",name:"my-addresses"},{url:"/orders",name:"my-orders"}].map((function(a){return n.a.createElement("div",{key:a.name},n.a.createElement(m.c,{exact:!0,className:"w-full px-6 py-4 inline-block text-center",activeClassName:"font-semibold",to:"".concat(t).concat(a.url)},e({id:a.name})),n.a.createElement("hr",null))}))))}var x=a(2),f=a(36),E=a(3),v=a.n(E),y=a(6),g=a(43),N=a(21),w=a(29),j=a(14),O=a.n(j),k=(a(28),a(23));function C(e){var t=e.userData,a=e.setProfileEditModalOpen,l=e.editMutation,r=n.a.useState(!1),i=Object(x.a)(r,2),m=i[0],o=i[1],d=n.a.useState(""),u=Object(x.a)(d,2),p=u[0],b=u[1],h=Object(c.a)(),f=h.formatMessage,E=h.locale,j=N.a({email:N.c().email(f({id:"email-validation"})),name:N.c().required(f({id:"fullname-empty"}))});return n.a.createElement(s.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed bg-body-light  z-50 top-0 w-full h-full left-0 "},m&&n.a.createElement(g.a,{message:p,closeFunction:function(){o(!1)}}),n.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},n.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return a(!1)}},"en"===E?n.a.createElement(k.f,{className:"w-6 h-6 "}):n.a.createElement(k.g,{className:"w-6 h-6 "})),n.a.createElement("h1",{className:" text-lg mx-4"},f({id:"edit-personal-information"}))),n.a.createElement(w.a,{initialValues:{email:t.email||"",name:t.name},validationSchema:j,onSubmit:function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.prev=1,e.next=4,l(t);case 4:a(!1),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response),o(!0),b(f({id:"something-went-wrong-snackbar"}));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,l=e.isSubmitting;return n.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},n.a.createElement(S,{label:f({id:"full-name"}),name:"name",value:a.name,type:"text"}),n.a.createElement(S,{label:f({id:"email-address"}),name:"email",value:a.email,type:"email"}),n.a.createElement("div",{className:"mt-1"},n.a.createElement("button",{type:"submit",className:"".concat(l?"bg-gray-600 cursor-not-allowed":"bg-main-color text-second-nav-text-light hover:bg-red-800"," w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase ")},l&&n.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:l}),!l&&f({id:"save-button"}))))})))}var S=function(e){var t=e.label,a=(e.value,e.name),l=Object(f.a)(e,["label","value","name"]),r=Object(w.b)(a),s=Object(x.a)(r,2),c=s[0],i=s[1];return n.a.createElement("div",{className:"mb-2"},n.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),n.a.createElement("input",Object.assign({},c,l,{onBlur:function(e){c.onBlur(e)},className:" w-full rounded-lg border p-2 mt-1"})),i.touched&&i.error?n.a.createElement("h1",{className:"text-xs text-main-color mt-1"},i.error):n.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},M=a(286);function _(e){var t=e.setPasswordChangeModalOpen,a=e.changePasswordMutation,l=Object(c.a)(),r=l.formatMessage,i=l.locale,m=n.a.useState(!1),o=Object(x.a)(m,2),d=o[0],u=o[1],p=n.a.useState(""),b=Object(x.a)(p,2),h=b[0],f=b[1],E=n.a.useState(!1),j=Object(x.a)(E,2),C=j[0],S=j[1],_=n.a.useState(""),P=Object(x.a)(_,2),q=P[0],z=P[1],A=function(){u(!1)},T=N.a({newPassword:N.c().required(r({id:"password-empty"})).min(6,r({id:"password-min-6"})).max(15,r({id:"password-max-15"})),confirmPassword:N.c().required(r({id:"password-empty"})).when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:N.c().oneOf([N.b("newPassword")],r({id:"same-password"}))})});return n.a.createElement(s.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed bg-body-light  z-50 top-0 w-full h-full left-0 "},d&&n.a.createElement(g.a,{message:h,closeFunction:A}),C&&n.a.createElement(M.a,{message:q,closeFunction:A}),n.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},n.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return t(!1)}},"en"===i?n.a.createElement(k.f,{className:"w-6 h-6 "}):n.a.createElement(k.g,{className:"w-6 h-6 "})),n.a.createElement("h1",{className:" text-lg mx-4"},r({id:"change-password"}))),n.a.createElement(w.a,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:T,onSubmit:function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,e.next=4,a(t);case 4:z(r({id:"password-change-success"})),S(!0),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.clear(),console.log(e.t0.response),u(!0),f(r({id:"something-went-wrong-snackbar"}));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,l=e.isSubmitting;return n.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},n.a.createElement(D,{label:r({id:"old-password"}),name:"oldPassword",value:a.oldPassword,type:"password"}),n.a.createElement(D,{label:r({id:"new-password"}),name:"newPassword",value:a.newPassword,type:"password"}),n.a.createElement(D,{label:r({id:"confirm-password"}),name:"confirmPassword",value:a.confirmPassword,type:"password"}),n.a.createElement("div",{className:"mt-1"},n.a.createElement("button",{type:"submit",className:"".concat(l?"bg-gray-600 cursor-not-allowed":"bg-main-color text-second-nav-text-light hover:bg-red-800"," w-full rounded flex items-center justify-center p-2 font-semibold  transition duration-150 uppercase ")},l&&n.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:l}),!l&&r({id:"save-button"}))))})))}var D=function(e){var t=e.label,a=(e.value,e.name),l=Object(f.a)(e,["label","value","name"]),r=Object(w.b)(a),s=Object(x.a)(r,2),c=s[0],i=s[1];return n.a.createElement("div",{className:"mb-2"},n.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),n.a.createElement("input",Object.assign({},c,l,{onBlur:function(e){c.onBlur(e)},className:"".concat(i.touched&&i.error&&"border-main-color"," w-full rounded-lg border p-2 mt-1")})),i.touched&&i.error?n.a.createElement("h1",{className:"text-sm text-main-color mt-1"},i.error):n.a.createElement("h1",{className:"text-sm text-main-color mt-1",style:{height:"22px"}}," "))},P=a(274),q=a.n(P);function z(){var e=Object(c.a)().formatMessage,t=n.a.useState(!1),a=Object(x.a)(t,2),l=a[0],r=a[1],i=n.a.useState(!1),m=Object(x.a)(i,2),d=m[0],u=m[1],p=n.a.useContext(o.a),b=p.userData,h=p.editMutation,f=p.authenticationLoading,E=p.authenticationFetching,v=p.changePasswordMutation,y={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}};return f||E?n.a.createElement(s.c.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{height:"calc(-90px + 100vh)"}},n.a.createElement("div",{className:"flex h-full justify-center items-center"},n.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}))):n.a.createElement(s.c.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{height:"calc(-90px + 100vh)"}},n.a.createElement("div",{className:""},n.a.createElement("div",{className:"bg-main-color text-main-text px-3 py-3 flex items center justify-between"},n.a.createElement("h1",{className:"text-lg"},e({id:"general-information"})),n.a.createElement("button",{onClick:function(){return r(!0)},className:"px-4 text-sm py-1 font-semibold bg-body-light text-btn-primary-light rounded"},e({id:"edit"}))),n.a.createElement("div",{className:" "},n.a.createElement("div",null,n.a.createElement("div",{className:" py-4 px-3 flex    "},n.a.createElement("h1",{className:"  w-2/4"},e({id:"full-name"})),n.a.createElement("h1",{className:""},b.name)),n.a.createElement("hr",null)),n.a.createElement("div",null,n.a.createElement("div",{className:" py-4 px-3 flex    "},n.a.createElement("h1",{className:"  w-2/4"},e({id:"phone-number"})),n.a.createElement("h1",{className:""},b.mobile)),n.a.createElement("hr",null)),n.a.createElement("div",null,n.a.createElement("div",{className:" py-4 px-3 flex    "},n.a.createElement("h1",{className:"  w-2/4"},e({id:"email-address"})),n.a.createElement("h1",{className:""},b.email)),n.a.createElement("hr",null)),n.a.createElement("div",null,n.a.createElement("div",{className:" py-4 px-3 flex    "},n.a.createElement("h1",{className:"  w-2/4"},e({id:"date-joined"})),n.a.createElement("h1",{className:""},q()(b.created_at).format("DD/MM/YYYY"))),n.a.createElement("hr",null)))),n.a.createElement("div",{className:"flex items-center justify-end  py-4 px-3"},n.a.createElement("button",{onClick:function(){return u(!0)},className:"px-4 py-1 bg-main-color text-main-text rounded uppercase"},e({id:"change-password"}))),n.a.createElement(s.a,null,l&&n.a.createElement(C,{userData:b,setProfileEditModalOpen:r,editMutation:h})),n.a.createElement(s.a,null,d&&n.a.createElement(_,{setPasswordChangeModalOpen:u,changePasswordMutation:v})))}var A=a(276),T=a(279);function B(e){var t=e.data,a=e.handleRemoveLocation,l=e.deleteButtonLoading,r=Object(c.a)().formatMessage,i=n.a.useState(null),m=Object(x.a)(i,2),o=m[0],d=m[1];return n.a.createElement(s.c.div,{layout:!0,variants:{hidden:{opacity:0},visible:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"},exited:{opacity:0,clipPath:"polygon(0 54%, 100% 53%, 100% 53%, 0 54%)"}},initial:"hidden",animate:"visible",exit:"exited",className:"rounded border shadow-itemsSlider-shallow bg-body-light"},n.a.createElement("div",{style:{position:"relative"}},n.a.createElement(T.a,{height:150,width:200,lat:t.lat,lng:t.lng,alt:t.address_name}),n.a.createElement(s.c.div,{variants:{partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}},initial:"partial",animate:o===t.id?"full":"partial",layout:!0,exit:"partial",onClick:function(){return e=t.id,void d(o===e?null:e);var e},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-50 bg-gray-800 hover:opacity-75"},n.a.createElement(k.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),n.a.createElement(s.a,null,o===t.id&&n.a.createElement(s.c.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-sm"},n.a.createElement("div",null,n.a.createElement("h1",null,r({id:"maps-detailed-address-apartment-short"}),":"),n.a.createElement("h1",null,t.apartment_house_number)),n.a.createElement("div",null,n.a.createElement("h1",null,r({id:"maps-detailed-address-building-short"}),":"),n.a.createElement("h1",null,t.building_tower_number)),n.a.createElement("div",null,n.a.createElement("h1",null,r({id:"maps-detailed-address-phone-short"}),":"),n.a.createElement("h1",null,t.phone_number)))))),n.a.createElement("div",{className:"p-2"},n.a.createElement("div",{className:"text-xs text-gray-600 font-semibold"},n.a.createElement("h1",null,t.address_name)),n.a.createElement("div",{className:"text-sm mb-2 font-semibold",style:{height:"50px"}},n.a.createElement("h1",null,t.marked_address)),n.a.createElement("button",{onClick:function(){return a(t.id)},className:" ".concat(l===t.id?"bg-gray-300":"bg-main-color"," text-main-text rounded   p-2 uppercase   text-sm w-full flex justify-center")},l===t.id?n.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:!0}):n.a.createElement("h1",null,r({id:"remove-location"})))))}var L=a(103),F=a.n(L);function H(e){var t=e.locations,a=e.setShowMap,l=Object(c.a)().formatMessage,r=n.a.useContext(o.a).deleteAddressMutation,i=n.a.useState(null),m=Object(x.a)(i,2),d=m[0],u=m[1],p=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(t),e.next=4,r(t);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u(null),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"h-full"},n.a.createElement("div",{className:" p-3  bg-main-color text-main-text"},n.a.createElement("h1",{className:"text-lg"},l({id:"my-addresses"}))),n.a.createElement(s.b,null,n.a.createElement(s.c.div,{layout:!0,className:"p-3 locations-grid__desktop"},n.a.createElement(s.a,null,t.map((function(e){return n.a.createElement(B,{key:e.id,data:e,handleRemoveLocation:p,deleteButtonLoading:d})}))),n.a.createElement(s.c.button,{layout:!0,key:"add-button",onClick:function(){return a(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text"},n.a.createElement(F.a,{background:!0}),n.a.createElement(k.p,{className:"h-8 w-8"})))))}var Y=a(287);function V(){var e=n.a.useState(!1),t=Object(x.a)(e,2),a=t[0],l=t[1],r=n.a.useContext(o.a),c=r.userAddresses;return r.userAddressesLoading?n.a.createElement("div",{className:"flex h-full justify-center items-center"},n.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})):n.a.createElement(s.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"h-full"},!a&&(0===c.length?n.a.createElement(Y.a,{setShowMap:l}):n.a.createElement(H,{locations:c,setShowMap:l})),a&&n.a.createElement("div",{className:"relative h-full"},n.a.createElement(A.a,{setShowMap:l})))}var U=a(10),I=a(17),W=a(289),Q=a.n(W);function R(){var e=Object(c.a)().formatMessage;return n.a.createElement("div",{className:"flex flex-col justify-center items-center h-full"},n.a.createElement("img",{src:Q.a,alt:"map",className:"mb-6",style:{height:"200px"}}),n.a.createElement("div",{className:"flex flex-col items-center "},n.a.createElement("h1",{className:"text-lg text-center font-semibold"},e({id:"no-orders-placed"})),n.a.createElement("button",{className:" mt-3  font-semibold flex items-center rounded px-4 py-2  \n            \n            'bg-btn-primary-light text-btn-secondary-light\n            \n           "},n.a.createElement("h1",{className:"mx-2 uppercase"},e({id:"start-shopping-now"})),n.a.createElement(k.c,{className:"w-20p h-20p"}))))}var X=a(22),J=a(111),K=a.n(J),G=a(112),$=a.n(G),Z=a(114),ee=a.n(Z),te=a(113),ae=a.n(te),le=a(7);function ne(e){var t=e.order,a=Object(c.a)().formatMessage,l=n.a.useState(!1),r=Object(x.a)(l,2),i=r[0],m=r[1],o=t.status;return n.a.createElement(s.c.div,{layout:!0,className:"rounded border"},function(){switch(o){case"completed":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark flex items-center  px-3 py-2 font-semibold bg-green-700  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-completed"})));case"canceled":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-main-color  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-cancelled"})));case"pending":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark  flex items-center px-3 py-2 font-semibold bg-yellow-600  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-pending"})));case"delivery":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark  flex items-center px-3 py-2 font-semibold bg-blue-600  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-delivery"})));case"waiting_for_payment":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-yellow-600  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-waiting-for-payment"})));case"confirmed":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-blue-600  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-confirmed"})));case"new":return n.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark flex items-center px-3 py-2 font-semibold bg-blue-600  "},n.a.createElement("h1",null,a({id:"order-status"})),":",n.a.createElement("h1",{className:"mx-1"},a({id:"order-new"})))}}(),n.a.createElement(s.c.div,{layout:!0,className:"my-orders-grid__desktop text-sm p-3 bg-gray-900 text-main-text"},n.a.createElement(s.c.div,{layout:!0},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("h1",{className:"text-gray-600"},a({id:"order-date"})," :"),n.a.createElement("h1",{className:"mx-1"}," ",q()(t.created_at).format("DD/MM/YYYY - HH:MM"))),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("h1",{className:"text-gray-600"},a({id:"payment-method"}),":"),"knet"===t.payment_method?n.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},n.a.createElement("img",{src:K.a,alt:t.payment_method}),n.a.createElement("div",{className:"flex-1 mx-3 text-left"},"K-net")):"credit"===t.payment_method?n.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},n.a.createElement("img",{src:$.a,alt:t.payment_method}),n.a.createElement("div",{className:"flex-1 mx-3 text-left"},"Credit Card")):"amex"===t.payment_method?n.a.createElement("div",{className:" flex  items-center justify-start  p-2 font-semibold"},n.a.createElement("img",{src:ae.a,alt:t.payment_method}),n.a.createElement("div",{className:"flex-1 mx-3 text-left"},"American Express")):"cod"===t.payment_method?n.a.createElement("div",{className:"  flex  items-center justify-start  p-2 font-semibold"},n.a.createElement("img",{src:ee.a,alt:t.payment_method}),n.a.createElement("div",{className:"flex-1 mx-3 text-left"},a({id:"cash-on-delivery"}))):void 0)),n.a.createElement(s.c.div,{layout:!0},n.a.createElement("h1",{className:"font-semibold"},a({id:"delivery-address"})),n.a.createElement("div",{className:"flex"},n.a.createElement("h1",{className:"text-gray-600"},a({id:"location"})),n.a.createElement("h1",{className:"mx-2"},"".concat(t.address.marked_address))),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("h1",{className:"text-gray-600"},a({id:"maps-detailed-address-apartment"})),n.a.createElement("h1",{className:" mx-2"},t.address.apartment_house_number)),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("h1",{className:"text-gray-600"},a({id:"maps-detailed-address-building"})),n.a.createElement("h1",{className:" mx-2"},t.address.building_tower_number)),t.address.addition_direction&&n.a.createElement("div",{className:"flex items-center"},n.a.createElement("h1",{className:"text-gray-600"},a({id:"maps-details-extra-details"})),n.a.createElement("h1",{className:" mx-2"},t.address.addition_direction))),n.a.createElement(s.c.div,{layout:!0},"map"===t.address.type&&t.address.lat&&n.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(t.address.lat,",").concat(t.address.lng,"&zoom=15&size=200x200&\n              markers=color:blue%7C").concat(t.address.lat,"-").concat(t.address.lng,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"),alt:"map"}))),n.a.createElement(s.c.div,{layout:!0,className:"p-2 font-semibold flex items-center bg-gray-200 "},n.a.createElement("h1",null,a({id:"show-order-receipt"})),n.a.createElement("button",{onClick:function(){m(!i)},className:"p-1 mx-2 border rounded-full shadow-md"},i?n.a.createElement(X.f,{className:"h-6 w-6"}):n.a.createElement(X.d,{className:"h-6 w-6"}))),i&&n.a.createElement("hr",null),n.a.createElement(s.a,null,i&&n.a.createElement(re,{orderItems:t.items,orderSubtotal:t.subtotal,orderTotal:t.total,shippingCost:t.shipping_cost,coupon:t.coupon,couponCost:t.coupon_cost})))}var re=function(e){var t=e.orderItems,a=e.orderTotal,l=e.orderSubtotal,r=e.shippingCost,i=e.coupon,o=e.couponCost,d=Object(c.a)(),u=d.locale,p=d.formatMessage,b=n.a.useContext(le.a).deliveryCountry;return n.a.createElement(s.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exited:{opacity:0}},initial:"hidden",animate:"visible",exit:"exited",className:"my-orders-items__grid-desktop p-2"},n.a.createElement("div",{className:"my-orders-items__table-desktop font-semibold text-center mb-1"},n.a.createElement("h1",null,"#"),n.a.createElement("h1",null,p({id:"the-item"})),n.a.createElement("h1",null,p({id:"quantity"})),n.a.createElement("h1",null,p({id:"price"})),n.a.createElement("h1",null,p({id:"total"}))),t.map((function(e,t){return n.a.createElement("div",{key:e.id,className:"my-orders-item-desktop text-sm text-center"},n.a.createElement("div",{className:""},n.a.createElement("h1",{className:""},t+1)),n.a.createElement(m.b,{to:"/".concat(u,"/products/").concat(e.product.slug,"/").concat(e.id),className:"hover:underline"},n.a.createElement("h1",{className:"truncate  font-semibold"},e.product.translation[u].title)),n.a.createElement("div",{className:""},n.a.createElement("h1",{className:""},e.qty)),n.a.createElement("div",{style:{fontWeight:900}},n.a.createElement("h1",{className:""},e.price," ",null===b||void 0===b?void 0:b.currency.translation[u].symbol)),n.a.createElement("div",{style:{fontWeight:900},className:"text-green-700"},n.a.createElement("h1",{className:""},(e.price*e.qty).toFixed(3)," ",null===b||void 0===b?void 0:b.currency.translation[u].symbol)))})),n.a.createElement("hr",{className:"my-1"}),n.a.createElement("div",{className:"my-orders-receipt-summary font-bold text-sm"},n.a.createElement("h1",null,p({id:"cart-total"})),n.a.createElement("h1",{className:"text-center"},l," ",n.a.createElement("span",{className:"mx-1"},null===b||void 0===b?void 0:b.currency.translation[u].symbol)),n.a.createElement("h1",null,p({id:"cart-delivery-cost"})),n.a.createElement("h1",{className:"mb-2 text-center"},"0"===r?p({id:"cart-free"}):r," ",n.a.createElement("span",{className:"mx-1"},null===b||void 0===b?void 0:b.currency.translation[u].symbol)),i&&n.a.createElement("h1",{className:"mb-2 text-center"},o,n.a.createElement("span",{className:"mx-1"},null===b||void 0===b?void 0:b.currency.translation[u].symbol)),n.a.createElement("h1",{className:"text-green-700 text-base",style:{fontWeight:900}},p({id:"subtotal"})),n.a.createElement("h1",{className:"text-green-700 text-base text-center",style:{fontWeight:900}},a," ",null===b||void 0===b?void 0:b.currency.translation[u].symbol)))};function se(e){var t=e.data;return n.a.createElement(s.c.div,{layout:!0,initial:!1,className:"h-full"},n.a.createElement(s.c.div,{layout:!0,initial:!1,className:"grid grid-cols-1 gap-2"},t.map((function(e){return n.a.createElement(ne,{key:e.id,order:e})}))))}function ce(){var e=Object(U.c)("userOrders",Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.E)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!0}),t=e.data;if(e.isLoading)return n.a.createElement("div",{className:"flex h-full justify-center items-center"},n.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}));return n.a.createElement(s.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"h-full"},0===t.length&&n.a.createElement(R,null),0!==t.length&&n.a.createElement(se,{data:t}))}var ie=a(69);function me(){var e=Object(c.a)().formatMessage,t=Object(i.j)().path,a=Object(i.h)();return n.a.createElement(ie.a,null,n.a.createElement(r.b,null,n.a.createElement("title",null,e({id:"my-account"})," | MRG")),n.a.createElement("div",{className:"relative  overflow-hidden myaccount__grid p-4 pb-3 \n          bg-body-light text-body-text-light max-w-default mx-auto",style:{minHeight:"calc(-62px + 100vh)"}},n.a.createElement(h,null),n.a.createElement(s.b,null,n.a.createElement(s.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"rounded-lg overflow-hidden h-full shadow-itemsSlider-shallow"},n.a.createElement(s.a,{exitBeforeEnter:!0},n.a.createElement(i.d,{location:a,key:a.key},n.a.createElement(i.b,{path:"".concat(t),exact:!0,component:z}),n.a.createElement(i.b,{path:"".concat(t,"/addresses"),component:V}),n.a.createElement(i.b,{path:"".concat(t,"/orders"),component:ce})))))))}}}]);
//# sourceMappingURL=11.f08a7351.chunk.js.map