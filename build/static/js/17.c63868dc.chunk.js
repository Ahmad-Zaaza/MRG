(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[17],{274:function(e,t,a){e.exports=a.p+"static/media/cartEmpty.84c9a7b0.png"},276:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(1),r=a.n(n),l=a(60),c=a(5),i=a(29),s=a(274),o=a.n(s),u=a(4),m=a(50),d=a(25),f=a(3),h=a.n(f),p=a(6),v=a(2),b=a(18),g=a(14),y=a.n(g);a(32);function x(e){var t=e.item,a=r.a.useContext(m.a),n=a.removeFromCartMutation,i=a.removeFromGuestCartMutation,s=r.a.useContext(d.a).deliveryCountry,o=Object(l.a)(),f=o.formatMessage,g=o.locale,x=r.a.useState(!1),E=Object(v.a)(x,2),N=E[0],C=E[1],P=r.a.useContext(b.a).userId,O=function(){var e=Object(p.a)(h.a.mark((function e(){var a,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),e.prev=1,!P){e.next=10;break}return a=t.id,r=t.cart_id,e.next=7,n({id:a,cart_id:r,userId:P,deliveryCountry:s});case 7:C(!1),e.next=14;break;case 10:return l=t.options.sku,e.next=13,i({sku:l,deliveryCountry:s});case 13:C(!1);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),C(!1),console.log(e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),w={hidden:{x:"".concat("ar"===g?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return r.a.createElement(u.c.div,{initial:"hidden",animate:"visible",exit:"exited",variants:w,className:" side-cart-menu__item mb-2"},r.a.createElement("div",{className:""},r.a.createElement(c.b,{title:"".concat(t["name_".concat(g)]),className:"hover:underline",to:"/".concat(g,"/c/").concat(t.id)},r.a.createElement("img",{src:"".concat("https://admin-mrg.mrg-mall.com/storage","/small/").concat(t.image),alt:"".concat(t["name_".concat(g)]),className:"max-w-full h-auto"}))),r.a.createElement("div",{className:""},r.a.createElement(c.b,{title:"".concat(t["name_".concat(g)]),className:"hover:underline",to:"/".concat(g,"/c/").concat(t.id)},r.a.createElement("h1",{className:"text-clamp-2 text-sm font-semibold"},"".concat(t["name_".concat(g)]))),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("h1",{className:"text-xs rounded p-1 font-bold  bg-gray-200 inline"},t.total," ",null===s||void 0===s?void 0:s.currency.translation[g].symbol),r.a.createElement("h1",{className:"mx-1 text-sm"},f({id:"quantity"})," : ",t.qty)),r.a.createElement("div",null,r.a.createElement("button",{className:"".concat(N?"bg-gray-300":"bg-main-color text-main-text"," text-xs rounded p-1 my-1 "),onClick:function(){O()}},N?r.a.createElement(y.a,{type:"ThreeDots",color:"#b72b2b",height:21,width:21,visible:!0}):f({id:"remove-from-cart"})))))}function E(e){var t=e.setSideMenuOpen,a=r.a.useContext(m.a),n=a.sideCartItems,s=a.sideCartSubTotal,f=r.a.useContext(d.a).deliveryCountry,h=Object(l.a)(),p=h.formatMessage,v=h.locale,b={hidden:{x:"".concat("ar"===v?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween",staggerChildren:.1}},exited:{x:"".concat("ar"===v?"-100%":"100%"),transition:{when:"afterChildren"}}};return r.a.createElement(u.c.div,{variants:b,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===v?"left-0":"right-0")},r.a.createElement("div",{className:" bg-body-light p-2 h-full flex flex-col "},r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("h1",{className:"font-semibold"},p({id:"shopping-cart"})),r.a.createElement("button",{onClick:function(){return t(!1)}},r.a.createElement(i.b,{className:"w-5 h-5 "}))),r.a.createElement("hr",{className:"my-2"}),0===(null===n||void 0===n?void 0:n.length)&&r.a.createElement("div",{className:"flex flex-col justify-center items-center"},r.a.createElement("img",{src:o.a,alt:"Empty cart"}),r.a.createElement("h1",{className:"font-bold mb-2"},p({id:"cart-empty"})),r.a.createElement(c.b,{to:"/".concat(v),className:"text-sm text-blue-600 hover:underline"},p({id:"check-today-deals"}))),0!==n.length&&r.a.createElement("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",style:{maxHeight:"calc(-110px + 100vh)"}},r.a.createElement(u.a,null,n.map((function(e){return r.a.createElement(x,{key:e.options.sku,item:e})})))),r.a.createElement("hr",{className:"my-1"}),0!==n.length&&r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-between semibold items-center  my-2"},r.a.createElement("h1",{className:""},p({id:"subtotal"})),r.a.createElement("h1",{className:" font-semibold"},s," ",null===f||void 0===f?void 0:f.currency.translation[v].symbol)),r.a.createElement("hr",{className:"my-1"}),r.a.createElement("div",{className:" flex items-center my-2 text-center text-second-nav-text-light "},r.a.createElement(c.b,{to:"/".concat(v,"/cart"),className:"flex-1 py-2 px-3 border border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded"},p({id:"go-to-cart"}))))))}},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(106),r=a(1),l=a.n(r),c=a(60);function i(e){var t=e.products,a=e.handleBrandChange,r=e.brandFilters,i=Object(c.a)(),s=i.formatMessage,o=i.locale,u=l.a.useMemo((function(){var e=[];return t.forEach((function(t){t.brand&&e.push({label:t.brand.translation[o].name,id:t.brand.id})})),e=Object(n.a)(new Set(e.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}))}),[]);return 0===u.length?null:l.a.createElement("div",{className:"mb-4"},l.a.createElement("h1",{className:"text-xl py-3 font-semibold"},s({id:"filter-by-brand"})),l.a.createElement("hr",null),l.a.createElement("div",{className:"flex flex-col justify-center"},u.map((function(e){return l.a.createElement("div",{key:e.id,className:"flex items-center mb-2 my-1"},l.a.createElement("input",{id:e.id,type:"checkbox",className:"form-checkbox border-gray-600 text-red-700",onChange:function(){return a(e)},checked:(null===r||void 0===r?void 0:r.id)===e.id}),l.a.createElement("label",{for:e.id,className:"hover:underline hover:text-blue-700 cursor-pointer  mx-5"},e.label))}))))}},304:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(15),r=a(4),l=a(1),c=a.n(l),i=a(60),s=a(153),o=a(25);function u(e){var t=e.handlePriceChange,a=e.priceFilters,l=e.handleChangePriceInput,u=e.handleSubmitPrice,m=Object(i.a)(),d=m.locale,f=m.formatMessage,h=c.a.useContext(o.a).deliveryCountry;return c.a.createElement(r.c.div,{layout:!0,className:"mb-4"},c.a.createElement("h1",{className:"text-xl font-semibold"},f({id:"filter-by-price"})," (",null===h||void 0===h?void 0:h.currency.translation[d].symbol,")"),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("div",{className:"p-3"},c.a.createElement(s.Range,{step:.1,min:0,rtl:"ar"===d,max:1e4,values:a,onChange:t,renderTrack:function(e){var t=e.props,a=e.children;return c.a.createElement("div",Object.assign({},t,{style:Object(n.a)({},t.style,{height:"6px",width:"100%",backgroundColor:"#ccc"})}),a)},renderThumb:function(e){var t=e.props;return c.a.createElement("div",Object.assign({},t,{style:Object(n.a)({},t.style,{height:"15px",width:"15px",borderRadius:"50%",backgroundColor:"#999"})}))}})),c.a.createElement("div",{className:"mb-3",style:{display:"grid",gridTemplateColumns:"0.5fr 1fr 0.5fr"}},c.a.createElement("div",{className:"text-center"},0),c.a.createElement("div",{className:"text-center"},c.a.createElement("input",{type:"number",value:a[0],onChange:l,className:"p-1 text-center border rounded-lg min-w-0"})),c.a.createElement("div",{className:"text-center"},1e4)),c.a.createElement("div",{className:"flex items-center justify-center"},c.a.createElement("button",{className:"px-2 py-1 bg-green-700 text-main-text rounded",onClick:u},f({id:"submit"}))))}},360:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var n=a(2),r=a(1),l=a.n(r),c=a(275),i=a(85),s=a(9),o=a(30),u=a(17),m=a(60),d=a(4),f=a(79),h=a(152),p=a(139),v=a(140),b=a(51);function g(e){var t=e.sortBy,a=e.handleSortByChange,n=e.productsCount,r=e.resultsPerPage,c=e.handleResultPerPageChange,i=Object(m.a)().formatMessage,s=l.a.useMemo((function(){return[{value:"newest",label:i({id:"Newest"})},{label:i({id:"Price (Low to High)"}),value:"price-asc"},{label:i({id:"Price (High to Low)"}),value:"price-desc"}]}),[i]),o=l.a.useMemo((function(){return[{label:20,value:20},{label:30,value:30},{label:40,value:40}]}),[]);return l.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.7fr 0.7fr",marginBottom:"0.5rem"},className:"border-b"},l.a.createElement("div",{layout:!0,className:"flex items-center"},n&&l.a.createElement("div",{className:"py-3 text-xl"},l.a.createElement("h1",null,l.a.createElement("strong",null,n>2&&n)," ",function(){switch(n){case 1:return i({id:"one-search-results"});case 2:return i({id:"two-search-results"});case n>10:return i({id:"more-than-10-search-results"});default:return i({id:"search-results"})}}()," "))),l.a.createElement("div",{className:"flex items-center w-full"},l.a.createElement("h1",null,i({id:"number-per-page"})),l.a.createElement(b.a,{isSearchable:!1,options:o,value:r,onChange:c,className:"mx-2 flex-1"})),l.a.createElement("div",{className:"flex items-center w-full"},l.a.createElement("h1",null,i({id:"sort-by"})),l.a.createElement(b.a,{isSearchable:!1,options:s,value:t,onChange:a,className:"mx-2 flex-1"})))}function y(e){var t=e.products,a=e.productsLoading,n=e.sortBy,r=e.filteredProducts,c=e.filteredProductsLoading,i=e.filtersApplied,s=e.handleRemoveFilters,o=e.handleSortByChange,u=e.filters,b=e.setCartMenuOpen,y=e.resultsPerPage,x=e.handleResultPerPageChange,E=Object(m.a)().formatMessage;return a?l.a.createElement("div",{className:"py-2"},l.a.createElement(f.a,{speed:2,viewBox:"0 0 752 51",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},l.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"51"})),l.a.createElement("div",{className:"category-page-items__grid py-2",style:{minHeight:"calc(100vh - 150px)"}},[0,1,2,3,4,5,6,7,8,9].map((function(e){return l.a.createElement(h.a,{key:e})})))):l.a.createElement("div",{className:"h-full"},l.a.createElement(g,{sortBy:n,handleSortByChange:o,productsCount:null===t||void 0===t?void 0:t.length,handleResultPerPageChange:x,resultsPerPage:y}),0!==u.length&&l.a.createElement("div",{className:"flex items-center"},l.a.createElement(d.c.h1,{layout:!0,className:"text-lg font-semibold"},E({id:"filtered-by"})),l.a.createElement(d.c.div,{layout:!0,className:"mx-1 flex items-center"},u.map((function(e){return l.a.createElement(d.c.button,{layout:!0,className:"mx-1 py-1 px-2 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return s(e.type)}},E({id:e.type})," : ",e.value)})))),0!==t.length&&l.a.createElement("div",{className:"category-page-items__grid py-2 ",style:{minHeight:"calc(100vh - 150px)"}},!i&&t.map((function(e){return"simple"===e.type?l.a.createElement(p.a,{key:e.id,setCartMenuOpen:b,item:e}):l.a.createElement(v.a,{key:e.id,setCartMenuOpen:b,item:e})})),i&&c&&[0,1,2,3,4,5,6,7,8].map((function(e){return l.a.createElement(h.a,{key:e})})),i&&!c&&r&&r.map((function(e){return"simple"===e.type?l.a.createElement(p.a,{key:e.id,setCartMenuOpen:b,item:e}):l.a.createElement(v.a,{key:e.id,setCartMenuOpen:b,item:e})}))),0===t.length&&l.a.createElement("div",{className:"p-6 flex items-center justify-center text-xl h-full"},E({id:"no-products"})))}var x=a(303),E=a(304);function N(e){var t=e.productsLoading,a=e.handlePriceChange,n=e.products,r=e.brandFilters,c=e.handleChangePriceInput,i=e.handleBrandChange,s=e.priceFilters,o=e.handleSubmitPrice;return l.a.createElement("div",{className:""},!t&&l.a.createElement(x.a,{products:n,brandFilters:r,handleBrandChange:i}),!t&&l.a.createElement(E.a,{products:n,priceFilters:s,handlePriceChange:a,handleChangePriceInput:c,handleSubmitPrice:o}))}var C=a(276);function P(){var e=Object(o.i)().query,t=Object(m.a)(),a=t.locale,r=t.formatMessage,f=l.a.useState(null),h=Object(n.a)(f,2),p=h[0],v=h[1],b=l.a.useState({value:"newest",label:r({id:"Newest"})}),g=Object(n.a)(b,2),x=g[0],E=g[1],P=l.a.useState(1),O=Object(n.a)(P,2),w=O[0],k=O[1],j=l.a.useState({label:20,value:20}),S=Object(n.a)(j,2),M=S[0],B=S[1],_=l.a.useState(!1),F=Object(n.a)(_,2),L=F[0],R=F[1],I=l.a.useState([1e4]),H=Object(n.a)(I,2),T=H[0],J=H[1],q=l.a.useState([]),A=Object(n.a)(q,2),D=A[0],G=A[1],W=l.a.useState(!1),z=Object(n.a)(W,2),K=z[0],Q=z[1],U=Object(s.c)(["searchProducts",e,w,M],u.I,{retry:!0,refetchOnWindowFocus:!1}),V=U.data,X=U.isLoading,Y=Object(s.c)(["search-filtered-products",{search:e,brandFilters:null===p||void 0===p?void 0:p.id,sortBy:x,page:w,resultsPerPage:M,locale:a,priceFilters:T}],u.l,{retry:!0,refetchOnWindowFocus:!1,enabled:L}),Z=Y.filteredData,$=Y.isLoading;return l.a.useEffect((function(){0===D.length?R(!1):R(!0)}),[D]),l.a.createElement(i.a,null,l.a.createElement(c.a,null,l.a.createElement("title",null,r({id:"search-for"})," ",e," | MRG")),l.a.createElement(d.a,null,K&&l.a.createElement(C.a,{key:"side-cart",setSideMenuOpen:Q}),K&&l.a.createElement(d.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return Q(!1)},className:"side__addCart-bg"})),l.a.createElement("div",{className:"max-w-default mx-auto p-4 overflow-hidden",style:{minHeight:"calc(100vh - 150px)"}},l.a.createElement("div",{className:"search-page__container"},l.a.createElement(N,{products:null===V||void 0===V?void 0:V.products,productsLoading:X,brandFilters:p,setBrandFilters:v,handleBrandChange:function(e){p===e?(v(null),G((function(e){return e.filter((function(e){return"Brand"!==e.type}))}))):(G((function(t){var a=t.filter((function(e){return"Brand"!==e.type}));return a.push({type:"Brand",value:e.label}),a})),v(e))},priceFilters:T,handlePriceChange:function(e){J(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||J([e.target.value])},handleSubmitPrice:function(){G((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(T[0])}),t}))}}),l.a.createElement(y,{products:null===V||void 0===V?void 0:V.products,productsLoading:X,sortBy:x,setPage:k,setResultsPerPage:B,filteredProducts:null===Z||void 0===Z?void 0:Z.filteredProducts,filteredProductsLoading:$,filtersApplied:L,filters:D,handleRemoveFilters:function(e){G((function(t){return t.filter((function(t){return t.type!==e}))})),"Brand"===e&&v(null),"Sort"===e&&E({value:"newest",label:"Newest"}),"Price"===e&&G((function(e){return e.filter((function(e){return"Price"!==e.type}))}))},handleSortByChange:function(e){if("newest"===e.value)return G((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void E(e);G((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),E(e)},setCartMenuOpen:Q,resultsPerPage:M,handleResultPerPageChange:function(e){B(e)}}))))}}}]);
//# sourceMappingURL=17.c63868dc.chunk.js.map