(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[26],{348:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(14),l=a(79),r=a(2),i=a(1),c=a.n(i),u=a(60),s=a(9),o=a(30),d=a(162),m=a(176),f=a(85),b=a(17),p=a(4),v=a(151),g=a(157),h=a(138),y=a(154),O=a.n(y),E=a(141),N=a(44);function C(){var e=Object(o.i)().query,t=Object(u.a)(),a=t.locale,i=t.formatMessage,y=c.a.useState([]),C=Object(r.a)(y,2),j=C[0],x=C[1],P=c.a.useState({value:"newest",label:"Newest"}),S=Object(r.a)(P,2),w=S[0],k=S[1],B=c.a.useState(1),L=Object(r.a)(B,2),F=L[0],I=L[1],M=c.a.useState(1),q=Object(r.a)(M,2),D=q[0],J=q[1],R=c.a.useState(!1),W=Object(r.a)(R,2),_=W[0],A=W[1],T=c.a.useState([1e4]),z=Object(r.a)(T,2),G=z[0],H=z[1],K=c.a.useState([]),Q=Object(r.a)(K,2),U=Q[0],V=Q[1],X=c.a.useState({label:20,value:20}),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],ee=c.a.useState(!1),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],le=c.a.useState(!1),re=Object(r.a)(le,2),ie=re[0],ce=re[1],ue=c.a.useState(!1),se=Object(r.a)(ue,2),oe=se[0],de=se[1],me=Object(g.a)(),fe=Object(r.a)(me,2),be=fe[0],pe=fe[1],ve=Object(s.c)(["searchProducts",{query:e,page:F,resultsPerPage:Z}],b.I,{retry:!0,refetchOnWindowFocus:!1}),ge=ve.data,he=ve.isLoading,ye=Object(s.c)(["filtered-products",{search:e,brandFilters:j,sortBy:w,page:D,resultsPerPage:Z,locale:a,priceFilters:G}],b.l,{retry:!0,refetchOnWindowFocus:!1,enabled:_}),Oe=ye.data,Ee=ye.isLoading;c.a.useEffect((function(){0===U.length?A(!1):A(!0)}),[U]);var Ne=c.a.useMemo((function(){return[{label:20,value:20},{label:30,value:30},{label:40,value:40}]}),[]);return c.a.createElement(f.a,null,c.a.createElement("div",{className:"min-h-screen relative"},c.a.createElement(p.a,null,ae&&c.a.createElement(v.a,{key:"side-cart",setSideMenuOpen:ne}),ae&&c.a.createElement(p.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return ne(!1)},className:"side__addCart-bg"})),0!==(null===ge||void 0===ge?void 0:ge.products.length)&&c.a.createElement("div",{className:"grid border-b mb-1",style:{gridTemplateColumns:"0.5fr 0.5fr"}},c.a.createElement("div",{className:"p-3 "},c.a.createElement("h1",null,(null===ge||void 0===ge?void 0:ge.products.length)>2&&(null===ge||void 0===ge?void 0:ge.products.length)," ",function(){switch(null===ge||void 0===ge?void 0:ge.products.length){case 1:return i({id:"one-search-results"});case 2:return i({id:"two-search-results"});case(null===ge||void 0===ge?void 0:ge.products.length)>10:return i({id:"more-than-10-search-results"});default:return i({id:"search-results"})}}()," ",c.a.createElement("strong",null,e))),c.a.createElement("div",{className:"flex items-center"},c.a.createElement("h1",{className:"font-semibold text-sm"},i({id:"number-per-page"})),c.a.createElement(N.a,{isSearchable:!1,options:Ne,value:Z,onChange:function(e){$(e)},className:"mx-2 flex-1"}))),c.a.createElement(p.b,null,c.a.createElement(p.c.div,{layout:!0,className:"px-3"},0!==U.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement(p.c.h1,{layout:!0,className:" mb-1 font-semibold"},i({id:"filtered-by"})," :"),c.a.createElement(p.c.div,{layout:!0,className:"flex items-center"},U.map((function(e){return c.a.createElement(p.c.button,{layout:!0,className:"mx-1 py-1 px-3 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return t=e.type,V((function(e){return e.filter((function(e){return e.value!==t.value}))})),"Brand"===t.type&&x((function(e){return e.filter((function(e){return e.label!==t.value}))})),"Sort"===t.type&&k({value:"newest",label:"Newest"}),void("Price"===t.type&&V((function(e){return e.filter((function(e){return"Price"!==e.type}))})));var t}},i({id:e.type})," :"," ",i({id:e.value}))}))),c.a.createElement("hr",{className:"my-3"})))),c.a.createElement(d.a,{products:null===ge||void 0===ge?void 0:ge.products,productsLoading:he,setCartMenuOpen:ne,filteredProducts:null===Oe||void 0===Oe?void 0:Oe.filteredProducts,filteredProductsLoading:Ee,triggerRef:be}),!he&&!Ee&&c.a.createElement(O.a,{previousLabel:c.a.createElement(E.a,{className:"w-6 h-6 inline"}),nextLabel:c.a.createElement(E.b,{className:"w-6 h-6 inline"}),breakLabel:"...",breakClassName:"inline",pageCount:_?null===Oe||void 0===Oe?void 0:Oe.lastPage:null===ge||void 0===ge?void 0:ge.lastPage,marginPagesDisplayed:2,pageRangeDisplayed:2,initialPage:_?D-1:F-1,disableInitialCallback:!0,onPageChange:_?function(e){Object(h.a)(document.getElementById("main"),document.body),J(e.selected+1)}:function(e){Object(h.a)(document.getElementById("main"),document.body),I(e.selected+1)},containerClassName:"text-center my-2",subContainerClassName:"p-3 inline",pageLinkClassName:"p-3",activeClassName:"bg-main-color font-bold text-main-text",pageClassName:" inline-block mx-2 rounded-full text-lg",previousClassName:"p-3 inline font-bold",nextClassName:"p-3 inline font-bold",disabledClassName:"text-gray-500"}),c.a.createElement(p.a,null,pe&&c.a.createElement(m.a,{productsLoading:he,products:null===ge||void 0===ge?void 0:ge.products,brandFilters:j,handleBrandChange:function(e){j.find((function(t){return t.id===e.id}))?(x((function(t){return t.filter((function(t){return t.id!==e.id}))})),V((function(t){return t.filter((function(t){return t.value!==e.label}))}))):(V((function(t){return[].concat(Object(l.a)(t),[{type:"Brand",value:e.label}])})),x((function(t){return[].concat(Object(l.a)(t),[Object(n.a)({},e)])})))},filtersApplied:_,setSortByOpen:ce,setFiltersOpen:de,filtersOpen:oe,sortByOpen:ie,sortBy:w,handleSortByChange:function(e){if("newest"===e.value)return V((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void k(e);V((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),k(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||H([e.target.value])},handlePriceChange:function(e){H(e)},handleSubmitPrice:function(){V((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(G[0])}),t}))},priceFilters:G}))))}}}]);
//# sourceMappingURL=26.bc2c60bd.chunk.js.map