(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[28],{365:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(2),r=a(1),c=a.n(r),l=a(65),u=a(8),i=a(30),s=a(159),o=a(174),d=a(85),f=a(17),p=a(4),m=a(148),h=a(154);function b(){var e=Object(i.i)().query,t=Object(l.a)(),a=t.locale,r=t.formatMessage,b=c.a.useState(null),y=Object(n.a)(b,2),g=y[0],v=y[1],O=c.a.useState({value:"newest",label:"Newest"}),E=Object(n.a)(O,2),S=E[0],j=E[1],P=c.a.useState(1),w=Object(n.a)(P,2),B=w[0],N=w[1],x=c.a.useState(!1),C=Object(n.a)(x,2),F=C[0],k=C[1],L=c.a.useState([1e4]),M=Object(n.a)(L,2),J=M[0],W=M[1],_=c.a.useState([]),q=Object(n.a)(_,2),A=q[0],H=q[1],I=c.a.useState(!1),R=Object(n.a)(I,2),z=R[0],D=R[1],G=c.a.useState(!1),K=Object(n.a)(G,2),Q=K[0],T=K[1],U=c.a.useState(!1),V=Object(n.a)(U,2),X=V[0],Y=V[1],Z=Object(h.a)(),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(u.c)(["searchProducts",e],f.H,{retry:!0,refetchOnWindowFocus:!1}),ne=ae.data,re=ae.isLoading,ce=Object(u.c)(["filtered-products",{search:e,brandFilters:g,sortBy:S,page:B,resultsPerPage:25,locale:a,priceFilters:J}],f.l,{retry:!0,refetchOnWindowFocus:!1,enabled:F}),le=ce.data,ue=ce.isLoading;c.a.useEffect((function(){0===A.length?k(!1):k(!0)}),[A]);return c.a.createElement(d.a,null,c.a.createElement("div",{className:"min-h-screen relative"},c.a.createElement(p.a,null,z&&c.a.createElement(m.a,{key:"side-cart",setSideMenuOpen:D}),z&&c.a.createElement(p.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return D(!1)},className:"side__addCart-bg"})),ne&&c.a.createElement("div",{className:"p-3 border-b"},c.a.createElement("h1",null,ne.length>2&&ne.length," ",function(){switch(ne.length){case 1:return r({id:"one-search-results"});case 2:return r({id:"two-search-results"});case ne.length>10:return r({id:"more-than-10-search-results"});default:return r({id:"search-results"})}}()," ",c.a.createElement("strong",null,e))),c.a.createElement(p.b,null,c.a.createElement(p.c.div,{layout:!0,className:"px-3"},0!==A.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement(p.c.h1,{layout:!0,className:"text-lg mb-2 font-semibold"},r({id:"filtered-by"})," :"),c.a.createElement(p.c.div,{layout:!0,className:"flex items-center"},A.map((function(e){return c.a.createElement(p.c.button,{layout:!0,className:"mx-1 py-1 px-3 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return t=e.type,H((function(e){return e.filter((function(e){return e.type!==t}))})),"Brand"===t&&v(null),"Sort"===t&&j({value:"newest",label:"Newest"}),void("Price"===t&&H((function(e){return e.filter((function(e){return"Price"!==e.type}))})));var t}},r({id:e.type})," :"," ",r({id:e.value}))}))),c.a.createElement("hr",{className:"my-3"})))),c.a.createElement(s.a,{products:ne,productsLoading:re,setCartMenuOpen:D,filteredProducts:le,filteredProductsLoading:ue,triggerRef:ee,setPage:N}),c.a.createElement(p.a,null,te&&c.a.createElement(o.a,{productsLoading:re,products:ne,brandFilters:g,handleBrandChange:function(e){g===e?(v(null),H((function(e){return e.filter((function(e){return"Brand"!==e.type}))}))):(H((function(t){var a=t.filter((function(e){return"Brand"!==e.type}));return a.push({type:"Brand",value:e}),a})),v(e))},filtersApplied:F,setSortByOpen:T,setFiltersOpen:Y,filtersOpen:X,sortByOpen:Q,sortBy:S,handleSortByChange:function(e){if("newest"===e.value)return H((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void j(e);H((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),j(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||W([e.target.value])},handlePriceChange:function(e){W(e)},handleSubmitPrice:function(){H((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(J[0])}),t}))},priceFilters:J}))))}}}]);
//# sourceMappingURL=28.a9716fb8.chunk.js.map