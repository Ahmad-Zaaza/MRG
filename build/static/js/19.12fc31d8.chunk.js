(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[19],{276:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var l=a(2),n=a(1),r=a.n(n),c=a(9),s=a.n(c),i=a(14),m=a.n(i),o=(a(28),a(153)),d=a(105),u=a(154),b=a(47),h=a(36),p=a(3),E=a.n(p),f=a(16),v=a(6),x=a(29),y=a(63),g=a(21),N=a(54),k=a(18),w=a(43),j=a(5),O=[{value:"+965",label:"+965"},{value:"+966",label:"+966"}];function C(e){var t=e.markerAddress,a=e.setShowMap,n=e.marker,c=e.setMarker,s=r.a.useState(O[0]),i=Object(l.a)(s,2),o=i[0],d=i[1],u=r.a.useContext(k.a).addAddressMutation,b=r.a.useState(""),h=Object(l.a)(b,2),p=h[0],N=h[1],C=r.a.useState(!1),M=Object(l.a)(C,2),q=M[0],z=M[1],T=Object(y.a)().formatMessage,H=r.a.useState(!1),D=Object(l.a)(H,2),L=D[0],I=D[1],U=g.a({apartmentOrHouseNumber:g.c().required(T({id:"required-field"})),buildingOrTowerNumber:g.c().required(T({id:"required-field"})),addressName:g.c().required(T({id:"required-field"})),phoneNumber:g.c().matches(/^\d+$/,T({id:"number-only"})).required(T({id:"required-field"})),additionalDetails:g.c()});return r.a.createElement("div",null,r.a.createElement(j.a,null,q&&r.a.createElement(w.a,{message:T({id:"something-went-wrong-snackbar"}),closeFunction:function(){z(!1)}})),r.a.createElement("div",{className:"font-bold p-2"},r.a.createElement("h1",null,T({id:"location-details"}))),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"flex justify-between"},r.a.createElement("label",{htmlFor:"location",className:"text-sm font-semibold text-gray-700"},T({id:"delivery-location"})),r.a.createElement("button",{onClick:function(){c(null),N("")},className:"text-main-color hover:underline"},T({id:"clear"}))),r.a.createElement("textarea",{rows:"3",id:"location",className:" mt-1 w-full rounded border  p-1  ",type:"textarea",value:t||p,readOnly:t,onChange:function(e){return N(e.target.value)}}),r.a.createElement(x.a,{initialValues:{apartmentOrHouseNumber:"",buildingOrTowerNumber:"",phoneNumber:"",additionalDetails:"",addressName:""},validationSchema:U,onSubmit:function(){var e=Object(v.a)(E.a.mark((function e(l){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng,defaultLocation:L,addressDetails:Object(f.a)({phoneNumber:"".concat(o.value).concat(l.phoneNumber)},l,{markerAddress:t,userTyped_address:p})});case 3:a(!1),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),z(!0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,l=e.values,n=e.isSubmitting;return r.a.createElement("form",{onSubmit:a},r.a.createElement(A,{label:T({id:"maps-detailed-address-phone"}),name:"phoneNumber",value:l.phoneNumber,type:"text",countryCode:o,setCountryCode:d}),r.a.createElement("div",{className:"grid grid-cols-2 gap-1"},r.a.createElement(S,{label:T({id:"maps-detailed-address-apartment"}),name:"apartmentOrHouseNumber",value:l.apartmentOrHouseNumber,type:"text"}),r.a.createElement(S,{label:T({id:"maps-detailed-address-building"}),name:"buildingOrTowerNumber",value:l.buildingOrTowerNumber,type:"text"})),r.a.createElement(S,{label:T({id:"maps-detailed-address-name"}),name:"addressName",value:l.addressName,type:"text"}),r.a.createElement(_,{label:T({id:"maps-details-extra-details"}),name:"additionalDetails",value:l.additionalDetails}),r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement("label",null,T({id:"mark-as-default"})),r.a.createElement("input",{className:" mx-2",type:"checkbox",checked:L,onChange:function(){return I(!L)}})),r.a.createElement("button",{type:"submit",disabled:!t||p,className:"  ".concat(!t||p?"bg-gray-500 text-gray-300":"bg-main-color text-main-text"," p-2 rounded  w-full  flex items-center uppercase justify-center font-semibold")},n?r.a.createElement(m.a,{type:"ThreeDots",color:"#fff",height:23,width:23,visible:n}):r.a.createElement("h1",null,T({id:"confirm-btn"})))))}))))}var S=function(e){var t=e.label,a=(e.value,e.name),n=Object(h.a)(e,["label","value","name"]),c=Object(x.b)(a),s=Object(l.a)(c,2),i=s[0],m=s[1];return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-700"},t),r.a.createElement("input",Object.assign({},i,n,{onBlur:function(e){i.onBlur(e)},className:" w-full rounded-sm border   p-1"})),m.touched&&m.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},m.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},_=function(e){var t=e.label,a=(e.value,e.name),n=Object(h.a)(e,["label","value","name"]),c=Object(x.b)(a),s=Object(l.a)(c,1)[0],i=Object(y.a)().formatMessage;return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-700"},t),r.a.createElement("h1",{className:"text-xs italic mx-3"},"(",i({id:"maps-details-optional"}),")")),r.a.createElement("textarea",Object.assign({rows:3},s,n,{onBlur:function(e){s.onBlur(e)},className:" w-full rounded-sm border   p-1"})))},A=function(e){var t=e.label,a=(e.value,e.name),n=e.countryCode,c=e.setCountryCode,s=Object(h.a)(e,["label","value","name","countryCode","setCountryCode"]),i=Object(x.b)(a),m=Object(l.a)(i,2),o=m[0],d=m[1];return r.a.createElement("div",{className:"w-full mb-1 flex flex-col "},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-800 mb-1"},t),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"0.4fr 1fr",gap:"0.5rem"}},r.a.createElement(N.a,{options:O,isSearchable:!1,value:n,onChange:c,styles:{dropdownIndicator:function(e){return Object(f.a)({},e,{padding:"0.25rem"})},valueContainer:function(e){return Object(f.a)({},e,{padding:"0.5rem"})}}}),r.a.createElement("input",Object.assign({},o,s,{onBlur:function(e){o.onBlur(e)},className:" border rounded w-full p-2 ".concat(d.error&&"border-main-color")}))),d.touched&&d.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},d.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},M=["places"],q={lat:29.3759,lng:47.9774},z={styles:o.a,disableDefaultUI:!0,zoomControl:!0};function T(e){var t=e.setShowMap,a=Object(b.useMediaQuery)({query:"(min-width: 768px)"}),n=Object(y.a)().formatMessage,c=Object(d.d)({googleMapsApiKey:"AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg",libraries:M}),i=c.isLoaded,o=c.loadError,h=r.a.useState(null),p=Object(l.a)(h,2),E=p[0],f=p[1],v=r.a.useState(null),x=Object(l.a)(v,2),g=x[0],N=x[1],k=r.a.useState(null),w=Object(l.a)(k,2),j=w[0],O=w[1],S=r.a.useRef(),_=r.a.useCallback((function(e){S.current=e}),[]),A=r.a.useCallback((function(e){var t=e.lat,a=e.lng;S.current.panTo({lat:t,lng:a}),f({lat:t,lng:a}),N(null)}),[]);return r.a.useEffect((function(){E?s.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(E.lat,",").concat(E.lng,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg")).then((function(e){console.log(e.data),O("".concat(e.data.results[0].formatted_address)),N("".concat(e.data.results[0].address_components.map((function(e){return e.short_name})).join(", ")))})).catch((function(e){return console.log(e)})):(O(null),N(null))}),[E]),o?r.a.createElement("div",{className:"flex justify-center items-center",style:{height:"calc(-173px + 100vh)"}},r.a.createElement("h1",null,n({id:"error-loading-maps"}))):i?r.a.createElement("div",{className:"".concat(a?"my-addresses-desktop-maps__grid":"my-addresses-mobile-maps__grid")},r.a.createElement("div",{className:"relative h-full"},r.a.createElement(u.a,{panTo:A,markerAddress:j}),r.a.createElement(d.a,{mapContainerStyle:{width:"100%",height:a?"100%":"500px"},zoom:15,center:q,options:z,clickableIcons:!1,onLoad:_,onClick:function(e){f({lat:e.latLng.lat(),lng:e.latLng.lng()})}},E&&r.a.createElement(d.c,{position:{lat:null===E||void 0===E?void 0:E.lat,lng:null===E||void 0===E?void 0:E.lng}}),g&&r.a.createElement(d.b,{onCloseClick:function(){return N(null)},position:{lat:null===E||void 0===E?void 0:E.lat,lng:null===E||void 0===E?void 0:E.lng},options:{pixelOffset:new window.google.maps.Size(0,-50)}},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",null,r.a.createElement("h1",null,g)))))),r.a.createElement(C,{markerAddress:j,marker:E,setShowMap:t,setMarker:f})):r.a.createElement("div",{className:"flex justify-center items-center",style:{height:"calc(-176px + 100vh)"}},r.a.createElement(m.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!i}))}},279:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var l=a(1),n=a.n(l),r=a(55),c=a.n(r),s=a(139),i=a.n(s);function m(e){var t=e.alt,a=e.lat,l=e.width,r=e.height,s=e.lng;return n.a.createElement("div",{style:{position:"relative",backgroundColor:"#fff",paddingBottom:"calc(100% * ".concat(r,"/").concat(l,")"),width:"100%"}},n.a.createElement(c.a,{placeholder:n.a.createElement("img",{src:i.a,alt:t}),className:"max-h-full"},n.a.createElement("img",{src:a?"https://maps.googleapis.com/maps/api/staticmap?center=".concat(a,",").concat(s,"&zoom=15&size=").concat(l,"x").concat(r,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"):i.a,alt:t,style:{maxHeight:"100%",maxWidth:"100%",display:"block",left:0,right:0},className:"mx-auto my-0 absolute"})))}},332:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var l=a(3),n=a.n(l),r=a(6),c=a(31),s=a(16),i=a(2),m=a(1),o=a.n(m),d=a(171),u=a(172),b=a(14),h=a.n(b),p=(a(28),a(18)),E=a(276),f=a(5),v=a(23),x=a(103),y=a.n(x),g=a(63),N=a(279);function k(e){var t=e.setShowMap,a=e.userAddresses,l=e.handleSelectAddress,n=Object(g.a)().formatMessage,r=o.a.useState(null),c=Object(i.a)(r,2),s=c[0],m=c[1],d={partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}};return o.a.createElement("div",{className:"min-h-full"},o.a.createElement("div",{className:" p-3 flex items-center justify-between bg-main-color text-main-text"},o.a.createElement("h1",{className:"text-lg"},n({id:"select-address-header"}))),o.a.createElement(f.b,null,o.a.createElement(f.c.div,{layout:!0,className:"p-3 locations-grid__desktop"},a.map((function(e){return console.log(e),o.a.createElement(f.c.div,{layout:!0,key:e.id,className:"rounded border relative  bg-body-light"},o.a.createElement(f.c.div,{layout:!0},o.a.createElement("div",{style:{minHeight:"150px",position:"relative"}},o.a.createElement(N.a,{height:150,width:200,lat:e.lat,lng:e.lng,alt:e.address_name}),o.a.createElement(f.c.div,{variants:d,initial:"partial",animate:s===e.id?"full":"partial",layout:!0,exit:"partial",onClick:function(){return t=e.id,void m(s===t?null:t);var t},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-50 bg-gray-800 hover:opacity-75"},o.a.createElement(v.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),o.a.createElement(f.a,null,s===e.id&&o.a.createElement(f.c.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-sm"},o.a.createElement("div",null,o.a.createElement("h1",null,n({id:"maps-detailed-address-apartment-short"}),":"),o.a.createElement("h1",null,e.apartment_house_number)),o.a.createElement("div",null,o.a.createElement("h1",null,n({id:"maps-detailed-address-building-short"}),":"),o.a.createElement("h1",null,e.building_tower_number)),o.a.createElement("div",null,o.a.createElement("h1",null,n({id:"maps-detailed-address-phone-short"}),":"),o.a.createElement("h1",null,e.phone_number)))))),o.a.createElement("div",{className:"p-2"},o.a.createElement("div",{className:"text-xs text-gray-600 font-semibold"},o.a.createElement("h1",null,e.address_name)),o.a.createElement("div",{className:"text-sm mb-2 font-semibold",style:{height:"65px"}},o.a.createElement("h1",null,e.marked_address)),o.a.createElement("button",{onClick:function(){return l(e)},className:"w-full p-1 rounded uppercase bg-main-color text-main-text"},n({id:"select-btn"})))))})),o.a.createElement("button",{onClick:function(){return t(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text"},o.a.createElement(y.a,{background:!0}),o.a.createElement(v.p,{className:"h-8 w-8"})))))}function w(e){var t=e.handleSelectAddress,a=o.a.useState(!1),l=Object(i.a)(a,2),n=l[0],r=l[1],c=o.a.useContext(p.a),s=c.userAddresses;return c.userAddressesLoading?o.a.createElement("div",{className:"flex h-full justify-center items-center",style:{minHeight:"calc(100vh - 150px)"}},o.a.createElement(h.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})):o.a.createElement("div",{className:"h-full",style:{minHeight:"calc(100vh - 150px)"}},0!==s.length&&!n&&o.a.createElement(k,{userAddresses:s,setShowMap:r,handleSelectAddress:t}),(0===s.length||n)&&o.a.createElement("div",{className:"rounded-sm border"},o.a.createElement(E.a,{setShowMap:r})))}var j=a(69),O=a(22),C=a(111),S=a.n(C),_=a(112),A=a.n(_),M=a(114),q=a.n(M),z=a(113),T=a.n(z),H=a(7),D=a(35),L=a(4);function I(e){var t=e.handleStepBack,a=e.selectedAddress,l=e.paymentMethod,n=e.setPaymentMethod,r=e.handleCheckout,c=e.checkoutLoading,s=Object(g.a)(),i=s.formatMessage,m=s.locale,d=o.a.useContext(H.a).deliveryCountry,u=o.a.useContext(D.a),b=u.cartItems,p=u.cartSubtotal,E=u.cartTotal,f=u.shippingCost,v=u.couponCost,x=u.coupon,y=function(e){n(e)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"user-checkout-personal-info__container h-full rounded border"},o.a.createElement("div",{className:"font-semibold overflow-y-auto",style:{maxHeight:"calc(100vh - 190px)"}},o.a.createElement("div",{className:"border-b"},o.a.createElement("div",{className:"p-2 border-b"},o.a.createElement("h1",{className:" text-center",style:{fontWeight:900}},i({id:"order-receipt"}))),o.a.createElement("div",{className:"my-orders-items__table-desktop font-semibold text-center mb-1 py-2"},o.a.createElement("h1",null,"#"),o.a.createElement("h1",null,i({id:"the-item"})),o.a.createElement("h1",null,i({id:"quantity"})),o.a.createElement("h1",null,i({id:"price"})),o.a.createElement("h1",null,i({id:"total"}))),null===b||void 0===b?void 0:b.map((function(e,t){return o.a.createElement("div",{key:e.id,className:"my-orders-item-desktop text-sm text-center mb-1"},o.a.createElement("div",{className:""},o.a.createElement("h1",{className:""},t+1)),o.a.createElement(L.b,{to:"/".concat(m,"/products/").concat(e.slug,"/").concat(e.id),className:"hover:underline"},o.a.createElement("h1",{className:"truncate  font-semibold"},e["name_".concat(m)])),o.a.createElement("div",{className:""},o.a.createElement("h1",{className:""},e.qty)),o.a.createElement("div",{style:{fontWeight:900}},o.a.createElement("h1",{className:""},e.price," ",null===d||void 0===d?void 0:d.currency.translation[m].symbol)),o.a.createElement("div",{style:{fontWeight:900},className:"text-green-700"},o.a.createElement("h1",{className:""},e.total," ",null===d||void 0===d?void 0:d.currency.translation[m].symbol)))})),o.a.createElement("hr",{className:"my-1"}),o.a.createElement("div",{className:"my-orders-receipt-summary font-bold p-2"},o.a.createElement("h1",null,i({id:"cart-total"})),o.a.createElement("h1",{className:"text-center"},p,o.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[m].symbol)),o.a.createElement("h1",null,i({id:"cart-delivery-cost"})),o.a.createElement("h1",{className:" text-center"},"0"===f?i({id:"cart-free"}):f,o.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[m].symbol)),x&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:""},i({id:"coupon-sale"})),o.a.createElement("h1",{className:"text-center text-green-700"},v,o.a.createElement("span",{className:"mx-1"},null===d||void 0===d?void 0:d.currency.translation[m].symbol))),o.a.createElement("h1",{className:"text-green-700 mt-3",style:{fontWeight:900}},i({id:"subtotal"})),o.a.createElement("h1",{className:"text-green-700 text-center mt-3",style:{fontWeight:900}},E," ",null===d||void 0===d?void 0:d.currency.translation[m].symbol))),o.a.createElement("div",{className:""},o.a.createElement("div",{className:"p-2 border-b"},o.a.createElement("h1",{style:{fontWeight:900},className:"text-center"},i({id:"delivery-address"}))),o.a.createElement("div",{className:"flex p-2"},o.a.createElement("div",{className:"flex-1 flex flex-col justify-center items-center"},o.a.createElement("div",{className:"mb-2 text-center"},o.a.createElement("h1",{className:" text-gray-700"},i({id:"delivery-location"})," "),o.a.createElement("h1",null,null===a||void 0===a?void 0:a.marked_address)),o.a.createElement("div",{className:" mb-2 text-center"},o.a.createElement("div",null,o.a.createElement("h1",{className:" text-gray-700"},i({id:"maps-detailed-address-apartment"})," "),o.a.createElement("h1",null,null===a||void 0===a?void 0:a.apartment_house_number)),o.a.createElement("div",null,o.a.createElement("h1",{className:"font-semibold text-gray-700"},i({id:"maps-detailed-address-building"})," "),o.a.createElement("h1",null,null===a||void 0===a?void 0:a.building_tower_number))),o.a.createElement("div",{className:"text-center"},o.a.createElement("div",null,o.a.createElement("h1",{className:"font-semibold text-gray-700"},i({id:"maps-details-extra-details"})," ",":"," "),o.a.createElement("h1",{className:""},(null===a||void 0===a?void 0:a.addition_direction)||i({id:"none"}))))),(null===a||void 0===a?void 0:a.lat)&&o.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(a.lat,",").concat(a.lng,"&zoom=15&size=200x200&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"),alt:"map"})))),o.a.createElement("div",{className:"font-semibold border-l"},o.a.createElement("div",{className:" mb-4 relative  "},o.a.createElement("div",{className:"p-2 border-b"},o.a.createElement("h1",{className:"text-center"},i({id:"select-payment-method"}))),o.a.createElement("div",{className:"p-2"},o.a.createElement("div",{className:"flex flex-col "},function(){var e=[];if(d)return d.payment.forEach((function(t){if(0===t.status)return null;"knet"===t.key&&e.push(o.a.createElement("button",{key:t.key,onClick:function(){return y(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},o.a.createElement("img",{src:S.a,alt:t.key}),o.a.createElement("div",{className:"flex-1 mx-3 text-left"},"K-net"),o.a.createElement("div",null,l===t.key?o.a.createElement(O.j,{className:"w-6 h-6 text-btn-secondary-light"}):o.a.createElement(O.i,{className:"w-6 h-6 text-btn-primary-light"})))),"credit"===t.key&&e.push(o.a.createElement("button",{key:t.key,onClick:function(){return y(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},o.a.createElement("img",{src:A.a,alt:t.key}),o.a.createElement("div",{className:"flex-1 mx-3 text-left"},"Credit Card"),o.a.createElement("div",null,l===t.key?o.a.createElement(O.j,{className:"w-6 h-6 text-btn-secondary-light"}):o.a.createElement(O.i,{className:"w-6 h-6 text-btn-primary-light"})))),"amex"===t.key&&e.push(o.a.createElement("button",{key:t.key,onClick:function(){return y(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},o.a.createElement("img",{src:T.a,alt:t.key}),o.a.createElement("div",{className:"flex-1 mx-3 text-left"},"American Express"),o.a.createElement("div",null,l===t.key?o.a.createElement(O.j,{className:"w-6 h-6 text-btn-secondary-light"}):o.a.createElement(O.i,{className:"w-6 h-6 text-btn-primary-light"})))),"cod"===t.key&&e.push(o.a.createElement("button",{key:t.key,onClick:function(){return y(t.key)},className:" ".concat(l===t.key&&"bg-main-color text-main-text border-main-color"," mb-3 flex border items-center justify-start rounded p-2 font-semibold")},o.a.createElement("img",{src:q.a,alt:t.key}),o.a.createElement("div",{className:"flex-1 mx-3 text-left"},i({id:"cash-on-delivery"})),o.a.createElement("div",null,l===t.key?o.a.createElement(O.j,{className:"w-6 h-6 text-main-text"}):o.a.createElement(O.i,{className:"w-6 h-6 text-main-color"}))))})),e}()))))),o.a.createElement("div",{className:"flex justify-end items-center p-3"},o.a.createElement("button",{className:"px-3 py-1 uppercase bg-main-color text-main-text rounded font-semibold",onClick:t},i({id:"btn-back-to-addresses"})),o.a.createElement("button",{disabled:!l,className:"\n              ".concat(l?"bg-main-color text-main-text":"bg-gray-600 text-gray-100","\n             flex items-center justify-center uppercase px-3 py-1 mx-3  rounded font-semibold"),onClick:r},c?o.a.createElement(h.a,{type:"ThreeDots",color:"#fff",height:24,width:24,visible:!0}):i({id:"btn-proceed"}))))}var U=a(10),B=a(17),V=a(43);function F(){var e=Object(U.b)(B.h,{throwOnError:!0}),t=Object(i.a)(e,2),a=t[0],l=t[1].isLoading,m=o.a.useContext(D.a),b=m.cartItems,p=m.cartItemsLoading,E=m.coupon,f=o.a.useContext(H.a).deliveryCountry,v=o.a.useState(0),x=Object(i.a)(v,2),y=x[0],N=x[1],k=o.a.useState(null),O=Object(i.a)(k,2),C=O[0],S=O[1],_=o.a.useState(null),A=Object(i.a)(_,2),M=A[0],q=A[1],z=o.a.useState(null),T=Object(i.a)(z,2),L=T[0],F=T[1],W=o.a.useState(!1),Q=Object(i.a)(W,2),X=Q[0],Y=Q[1],K=o.a.useState(""),J=Object(i.a)(K,2),P=J[0],R=J[1],$=Object(g.a)().formatMessage,G=o.a.useState({0:!1,1:!1,2:!1}),Z=Object(i.a)(G,2),ee=Z[0],te=Z[1],ae=function(){2!==y&&(N(y+1),te(Object(s.a)({},ee,Object(c.a)({},y,!0))))},le=function(){var e=Object(r.a)(n.a.mark((function e(){var t,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={address:C.id,payment_method:M,order_type:"Kuwait"===(null===f||void 0===f?void 0:f.translation.en.name)?"local":"international"},e.prev=1,e.next=4,a({deliveryCountry:f,order:t,coupon:E});case 4:l=e.sent,console.log(l),F(l.payment),N(2),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),Y(!0),R($({id:"something-went-wrong-snackbar"})),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return o.a.useEffect((function(){window.scrollTo(0,0)}),[y]),p?o.a.createElement("div",{className:"flex items-center justify-center min-h-screen"},o.a.createElement(h.a,{type:"ThreeDots",color:"#b72b2b",height:50,width:50,visible:!0})):p||0!==b.length?o.a.createElement(j.a,null,o.a.createElement("div",{className:"xxl:max-w-default md:max-w-screen-xl mx-auto"},X&&o.a.createElement(V.a,{message:P,closeFunction:function(){Y(!1)}}),o.a.createElement(u.a,{selectedStep:y,stepDone:ee}),o.a.createElement("div",{className:"mb-3",style:{minHeight:"calc(100vh - 150px)"}},0===y&&o.a.createElement(w,{handleSelectAddress:function(e){S(e),ae()}}),1===y&&o.a.createElement(I,{handleStepBack:function(){0!==y&&(N(y-1),te(Object(s.a)({},ee,Object(c.a)({},y-1,!1))))},selectedAddress:C,paymentMethod:M,setPaymentMethod:q,handleCheckout:le,checkoutLoading:l}),2===y&&o.a.createElement(d.a,{paymentUrl:L,paymentMethod:M})))):o.a.createElement(j.a,null,o.a.createElement("div",{className:"flex items-center justify-center mx-auto text-center",style:{height:"calc(100vh - 56px)",maxWidth:"600px"}},o.a.createElement("h1",{className:"text-2xl font-semibold"},$({id:"checkout-cart-empty"}))))}}}]);
//# sourceMappingURL=19.12fc31d8.chunk.js.map