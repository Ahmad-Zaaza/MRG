(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[14],{274:function(e,t,a){e.exports=a.p+"static/media/cartEmpty.84c9a7b0.png"},279:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(1),r=a.n(n),c=a(65),l=a(5),i=a(29),o=a(274),s=a.n(o),m=a(4),d=a(50),u=a(25),f=a(3),p=a.n(f),h=a(6),g=a(2),y=a(18),v=a(14),b=a.n(v);a(32);function E(e){var t=e.item,a=r.a.useContext(d.a),n=a.removeFromCartMutation,i=a.removeFromGuestCartMutation,o=r.a.useContext(u.a).deliveryCountry,s=Object(c.a)(),f=s.formatMessage,v=s.locale,E=r.a.useState(!1),x=Object(g.a)(E,2),N=x[0],C=x[1],w=r.a.useContext(y.a).userId,k=function(){var e=Object(h.a)(p.a.mark((function e(){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),e.prev=1,!w){e.next=10;break}return a=t.id,r=t.cart_id,e.next=7,n({id:a,cart_id:r,userId:w,deliveryCountry:o});case 7:C(!1),e.next=14;break;case 10:return c=t.options.sku,e.next=13,i({sku:c,deliveryCountry:o});case 13:C(!1);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),C(!1),console.log(e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),O={hidden:{x:"".concat("ar"===v?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return r.a.createElement(m.c.div,{initial:"hidden",animate:"visible",exit:"exited",variants:O,className:" side-cart-menu__item mb-2"},r.a.createElement("div",{className:""},r.a.createElement(l.b,{title:"".concat(t["name_".concat(v)]),className:"hover:underline",to:"/".concat(v,"/c/").concat(t.id)},r.a.createElement("img",{src:"".concat("https://admin-mrg.mrg-mall.com/storage","/small/").concat(t.image),alt:"".concat(t["name_".concat(v)]),className:"max-w-full h-auto"}))),r.a.createElement("div",{className:""},r.a.createElement(l.b,{title:"".concat(t["name_".concat(v)]),className:"hover:underline",to:"/".concat(v,"/c/").concat(t.id)},r.a.createElement("h1",{className:"text-clamp-2 text-sm font-semibold"},"".concat(t["name_".concat(v)]))),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("h1",{className:"text-xs rounded p-1 font-bold  bg-gray-200 inline"},t.total," ",null===o||void 0===o?void 0:o.currency.translation[v].symbol),r.a.createElement("h1",{className:"mx-1 text-sm"},f({id:"quantity"})," : ",t.qty)),r.a.createElement("div",null,r.a.createElement("button",{className:"".concat(N?"bg-gray-300":"bg-main-color text-main-text"," text-xs rounded p-1 my-1 "),onClick:function(){k()}},N?r.a.createElement(b.a,{type:"ThreeDots",color:"#b72b2b",height:21,width:21,visible:!0}):f({id:"remove-from-cart"})))))}function x(e){var t=e.setSideMenuOpen,a=r.a.useContext(d.a),n=a.sideCartItems,o=a.sideCartSubTotal,f=r.a.useContext(u.a).deliveryCountry,p=Object(c.a)(),h=p.formatMessage,g=p.locale,y={hidden:{x:"".concat("ar"===g?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween",staggerChildren:.1}},exited:{x:"".concat("ar"===g?"-100%":"100%"),transition:{when:"afterChildren"}}};return r.a.createElement(m.c.div,{variants:y,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===g?"left-0":"right-0")},r.a.createElement("div",{className:" bg-body-light p-2 h-full flex flex-col "},r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("h1",{className:"font-semibold"},h({id:"shopping-cart"})),r.a.createElement("button",{onClick:function(){return t(!1)}},r.a.createElement(i.b,{className:"w-5 h-5 "}))),r.a.createElement("hr",{className:"my-2"}),0===(null===n||void 0===n?void 0:n.length)&&r.a.createElement("div",{className:"flex flex-col justify-center items-center"},r.a.createElement("img",{src:s.a,alt:"Empty cart"}),r.a.createElement("h1",{className:"font-bold mb-2"},h({id:"cart-empty"})),r.a.createElement(l.b,{to:"/".concat(g),className:"text-sm text-blue-600 hover:underline"},h({id:"check-today-deals"}))),0!==n.length&&r.a.createElement("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",style:{maxHeight:"calc(-110px + 100vh)"}},r.a.createElement(m.a,null,n.map((function(e){return r.a.createElement(E,{key:e.options.sku,item:e})})))),r.a.createElement("hr",{className:"my-1"}),0!==n.length&&r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-between semibold items-center  my-2"},r.a.createElement("h1",{className:""},h({id:"subtotal"})),r.a.createElement("h1",{className:" font-semibold"},o," ",null===f||void 0===f?void 0:f.currency.translation[g].symbol)),r.a.createElement("hr",{className:"my-1"}),r.a.createElement("div",{className:" flex items-center my-2 text-center text-second-nav-text-light "},r.a.createElement(l.b,{to:"/".concat(g,"/cart"),className:"flex-1 py-2 px-3 border border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded"},h({id:"go-to-cart"}))))))}},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(106),r=a(1),c=a.n(r),l=a(65);function i(e){var t=e.products,a=e.handleBrandChange,r=e.brandFilters,i=Object(l.a)(),o=i.formatMessage,s=i.locale,m=c.a.useMemo((function(){var e=[];return t.forEach((function(t){t.brand&&e.push({label:t.brand.translation[s].name,id:t.brand.id})})),e=Object(n.a)(new Set(e.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}))}),[]);return 0===m.length?null:c.a.createElement("div",{className:"mb-4"},c.a.createElement("h1",{className:"text-xl font-semibold"},o({id:"filter-by-brand"})),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("div",{className:"flex flex-col justify-center"},m.map((function(e){return c.a.createElement("div",{key:e.id,className:"flex items-center mb-2 text-sm "},c.a.createElement("input",{type:"checkbox",className:"form-checkbox border-gray-600 text-red-700 mr-5",onChange:function(){return a(e)},checked:(null===r||void 0===r?void 0:r.id)===e.id}),c.a.createElement("label",{className:"hover:underline hover:text-blue-700 cursor-pointer"},e.label))}))))}},308:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(15),r=a(4),c=a(1),l=a.n(c),i=a(65),o=a(153),s=a(25);function m(e){var t=e.handlePriceChange,a=e.priceFilters,c=e.handleChangePriceInput,m=e.handleSubmitPrice,d=Object(i.a)(),u=d.locale,f=d.formatMessage,p=l.a.useContext(s.a).deliveryCountry;return l.a.createElement(r.c.div,{layout:!0,className:"mb-4"},l.a.createElement("h1",{className:"text-xl font-semibold"},f({id:"filter-by-price"})," (",null===p||void 0===p?void 0:p.currency.translation[u].symbol,")"),l.a.createElement("hr",{className:"my-2"}),l.a.createElement("div",{className:"p-3"},l.a.createElement(o.Range,{step:.1,min:0,rtl:"ar"===u,max:1e4,values:a,onChange:t,renderTrack:function(e){var t=e.props,a=e.children;return l.a.createElement("div",Object.assign({},t,{style:Object(n.a)({},t.style,{height:"6px",width:"100%",backgroundColor:"#ccc"})}),a)},renderThumb:function(e){var t=e.props;return l.a.createElement("div",Object.assign({},t,{style:Object(n.a)({},t.style,{height:"15px",width:"15px",borderRadius:"50%",backgroundColor:"#999"})}))}})),l.a.createElement("div",{className:"mb-3",style:{display:"grid",gridTemplateColumns:"0.5fr 1fr 0.5fr"}},l.a.createElement("div",{className:"text-center"},0),l.a.createElement("div",{className:"text-center"},l.a.createElement("input",{type:"number",value:a[0],onChange:c,className:"p-1 text-center border rounded-lg min-w-0"})),l.a.createElement("div",{className:"text-center"},1e4)),l.a.createElement("div",{className:"flex items-center justify-center"},l.a.createElement("button",{className:"px-2 py-1 bg-green-700 text-main-text rounded",onClick:m},f({id:"submit"}))))}},309:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(4),r=a(1),c=a.n(r),l=a(65),i=a(51);function o(e){var t=e.sortBy,a=e.handleRemoveFilters,r=e.filters,o=e.handleSortByChange,s=Object(l.a)().formatMessage,m=c.a.useMemo((function(){return[{value:"newest",label:"Newest"},{label:"Price (Low to High)",value:"price-asc"},{label:"Price (High to Low)",value:"price-desc"}]}),[]);return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.4fr",marginBottom:"0.5rem"}},c.a.createElement(n.b,null,c.a.createElement(n.c.div,{layout:!0,className:"flex items-center"},0!==r.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement(n.c.h1,{layout:!0,className:"text-lg font-semibold"},s({id:"filtered-by"})),c.a.createElement(n.c.div,{layout:!0,className:"mx-1 flex items-center"},r.map((function(e){return c.a.createElement(n.c.button,{layout:!0,className:"mx-1 py-1 px-2 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return a(e.type)}},s({id:e.type})," : ",e.value)})))))),c.a.createElement(i.a,{isSearchable:!1,options:m,value:t,onChange:o}))}},373:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(2),r=a(1),c=a.n(r),l=a(275),i=a(65),o=a(5),s=a(307),m=a(308);function d(e){var t=e.productsLoading,a=e.handlePriceChange,n=e.products,r=e.categoryInfo,l=e.categoryInfoLoading,d=e.brandFilters,u=e.handleChangePriceInput,f=e.handleBrandChange,p=e.priceFilters,h=e.handleSubmitPrice,g=Object(i.a)(),y=g.locale,v=g.formatMessage;return c.a.createElement("div",{className:"py-2"},!l&&c.a.createElement("div",{className:"mb-4"},c.a.createElement("h1",{className:"text-xl font-semibold"},v({id:"categories"})),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("div",{className:"my-2"},c.a.createElement("div",{className:"flex justify-between"},c.a.createElement("h1",{className:"font-semibold text-sm"},r.translation[y].name)),0!==r.children.length&&r.children.map((function(e,t){return c.a.createElement(o.b,{to:"/".concat(y,"/categories/").concat(e.slug),key:t,className:"text-sm block hover:underline hover:text-blue-700"},e.translation[y].name)})))),!t&&c.a.createElement(s.a,{products:n,brandFilters:d,handleBrandChange:f}),!t&&c.a.createElement(m.a,{products:n,priceFilters:p,handlePriceChange:a,handleChangePriceInput:u,handleSubmitPrice:h}))}var u=a(79),f=a(151),p=a(150),h=a(309),g=a(152);function y(e){var t=e.products,a=e.productsLoading,n=(e.categoryInfoLoading,e.sortBy),r=e.filteredProducts,l=e.filteredProductsLoading,i=e.filtersApplied,o=e.handleRemoveFilters,s=e.handleSortByChange,m=e.filters,d=e.setCartMenuOpen;return a?c.a.createElement("div",{className:"py-2"},c.a.createElement(u.a,{speed:2,viewBox:"0 0 752 38",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"38"})),c.a.createElement("div",{className:"category-page-items__grid py-2",style:{minHeight:"calc(100vh - 150px)"}},[0,1,2,3,4,5,6,7,8,9].map((function(e){return c.a.createElement(f.a,{key:e})})))):c.a.createElement("div",{className:"py-2"},c.a.createElement(h.a,{sortBy:n,filters:m,handleRemoveFilters:o,handleSortByChange:s}),0!==t.length&&c.a.createElement("div",{className:"category-page-items__grid py-2 ",style:{minHeight:"calc(100vh - 150px)"}},!i&&t.map((function(e){return"simple"===e.type?c.a.createElement(p.a,{key:e.id,setCartMenuOpen:d,item:e}):c.a.createElement(g.a,{key:e.id,setCartMenuOpen:d,item:e})})),i&&l&&[0,1,2,3,4,5,6,7,8].map((function(e){return c.a.createElement(f.a,{key:e})})),i&&!l&&r&&r.map((function(e){return"simple"===e.type?c.a.createElement(p.a,{key:e.id,setCartMenuOpen:d,item:e}):c.a.createElement(g.a,{key:e.id,setCartMenuOpen:d,item:e})}))),0===t.length&&c.a.createElement("div",{className:"p-4 text-2xl h-full flex items-center justify-center"},c.a.createElement("h1",null,"We Couldn't Find any items that belongs to this category")))}var v=a(85),b=a(8),E=a(30),x=a(17),N=a(271),C=a(267),w=a(269),k=a(266),O=(a(145),a(66));function j(e){var t=e.categoryInfo,a=Object(i.a)().locale;return c.a.createElement(N.a,{navigation:!0,id:"main",className:"my-3",breakpoints:{320:{slidesPerView:2,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},860:{slidesPerView:5,spaceBetween:20},1100:{slidesPerView:7,spaceBetween:20},1440:{slidesPerView:8,spaceBetween:20}}},t.children.map((function(e){var t;return c.a.createElement(C.a,{key:e.id,className:"overflow-hidden border my-2  relative bg-gray-100\n             shadow\n            rounded"},c.a.createElement(o.b,{to:"/".concat(a,"/categories/").concat(e.slug)},c.a.createElement(O.a,{src:"".concat("https://admin-mrg.mrg-mall.com/storage","/original/").concat(null===(t=e.image)||void 0===t?void 0:t.link),alt:e.translation[a].name,pb:"calc(100% * 286/210)"}),c.a.createElement("h1",{className:"font-semibold text-center p-1"},e.translation[a].name)))})))}function P(e){var t,a=e.categoryInfo,n=e.categoryInfoLoading,r=Object(i.a)().locale;return n?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{speed:4,viewBox:"0 0 1440 300",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"300"})),c.a.createElement(N.a,{navigation:!0,id:"main",slidesPerView:7,spaceBetween:15,className:"my-3"},[0,1,2,3,4,5,6].map((function(e){return c.a.createElement(C.a,{key:e,className:"my-2"},c.a.createElement(u.a,{speed:4,viewBox:"0 0   171 258.36",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"258.36"})))})))):c.a.createElement("div",null,c.a.createElement(O.a,{src:"".concat("https://admin-mrg.mrg-mall.com/storage","/original/").concat(null===(t=a.cover_desktop)||void 0===t?void 0:t.link),alt:a.translation[r].name,pb:"calc(100% * 300/1440)"}),0!==a.children.length&&c.a.createElement(j,{categoryInfo:a}))}w.a.use([k.a]);var B=a(4),S=a(279);function F(){var e=Object(E.i)().category,t=Object(i.a)(),a=t.locale,r=t.formatMessage,o=c.a.useState(null),s=Object(n.a)(o,2),m=s[0],u=s[1],f=c.a.useState({value:"newest",label:"Newest"}),p=Object(n.a)(f,2),h=p[0],g=p[1],N=c.a.useState(1),C=Object(n.a)(N,2),w=C[0],k=C[1],O=c.a.useState(10),j=Object(n.a)(O,2),F=j[0],I=j[1],M=c.a.useState(!1),_=Object(n.a)(M,2),L=_[0],R=_[1],V=c.a.useState([1e4]),H=Object(n.a)(V,2),T=H[0],J=H[1],W=c.a.useState([]),q=Object(n.a)(W,2),A=q[0],D=q[1],G=c.a.useState(!1),z=Object(n.a)(G,2),K=z[0],Q=z[1],U=Object(b.c)(["category-products",e],x.o,{retry:!0,refetchOnWindowFocus:!1}),X=U.data,Y=U.isLoading,Z=Object(b.c)(["categoryInfo",e],x.v,{retry:!0,refetchOnWindowFocus:!1}),$=Z.data,ee=Z.isLoading,te=Object(b.c)(["filtered-products",{category:null===$||void 0===$?void 0:$.id,brandFilters:null===m||void 0===m?void 0:m.id,sortBy:h,page:w,resultsPerPage:F,locale:a,priceFilters:T}],x.l,{retry:!0,refetchOnWindowFocus:!1,enabled:L}),ae=te.data,ne=te.isLoading;return c.a.useEffect((function(){0===A.length?R(!1):R(!0)}),[A]),c.a.createElement(v.a,null,c.a.createElement(l.a,null,c.a.createElement("title",null,$?$.translation[a].name:r({id:"shop-on-mrg"}))),c.a.createElement(B.a,null,K&&c.a.createElement(S.a,{key:"side-cart",setSideMenuOpen:Q}),K&&c.a.createElement(B.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return Q(!1)},className:"side__addCart-bg"})),c.a.createElement("div",{className:"max-w-default mx-auto p-4 overflow-hidden",style:{minHeight:"calc(100vh - 150px)"}},c.a.createElement(P,{categoryInfo:$,categoryInfoLoading:ee}),c.a.createElement("div",{className:"search-page__container"},c.a.createElement(d,{categoryInfo:$,categoryInfoLoading:ee,products:X,productsLoading:Y,brandFilters:m,setBrandFilters:u,handleBrandChange:function(e){m===e?(u(null),D((function(e){return e.filter((function(e){return"Brand"!==e.type}))}))):(D((function(t){var a=t.filter((function(e){return"Brand"!==e.type}));return a.push({type:"Brand",value:e.label}),a})),u(e))},priceFilters:T,handlePriceChange:function(e){J(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||J([e.target.value])},handleSubmitPrice:function(){D((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(T[0])}),t}))}}),c.a.createElement(y,{products:X,productsLoading:Y,categoryInfoLoading:ee,sortBy:h,setPage:k,setResultsPerPage:I,filteredProducts:ae,filteredProductsLoading:ne,filtersApplied:L,filters:A,handleRemoveFilters:function(e){D((function(t){return t.filter((function(t){return t.type!==e}))})),"Brand"===e&&u(null),"Sort"===e&&g({value:"newest",label:"Newest"}),"Price"===e&&D((function(e){return e.filter((function(e){return"Price"!==e.type}))}))},handleSortByChange:function(e){if("newest"===e.value)return D((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void g(e);D((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),g(e)},setCartMenuOpen:Q}))))}}}]);
//# sourceMappingURL=14.6b43b01e.chunk.js.map