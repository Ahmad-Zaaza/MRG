(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[13],{281:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a(2),l=a(1),r=a.n(l),s=a(7),c=a.n(s),i=a(14),m=a.n(i),o=(a(32),a(149)),d=a(107),u=a(150),b=a(61),p=a(33),h=a(3),x=a.n(h),f=a(15),E=a(6),v=a(26),g=a(60),y=a(20),N=a(51),w=a(18),j=[{value:"+965",label:"+965"},{value:"+966",label:"+966"}];function O(e){var t=e.markerAddress,a=e.setShowMap,l=e.marker,s=r.a.useState(j[0]),c=Object(n.a)(s,2),i=c[0],o=c[1],d=r.a.useContext(w.a).addAddressMutation,u=Object(g.a)().formatMessage,b=r.a.useState(!1),p=Object(n.a)(b,2),h=p[0],N=p[1],O=y.b({apartmentOrHouseNumber:y.a().required(u({id:"required-field"})),buildingOrTowerNumber:y.a().required(u({id:"required-field"})),addressName:y.d().required(u({id:"required-field"})),phoneNumber:y.d().matches(/^\d+$/,u({id:"number-only"})).required(u({id:"required-field"})),additionalDetails:y.d()});return r.a.createElement("div",null,r.a.createElement("div",{className:"font-bold p-2"},r.a.createElement("h1",null,u({id:"location-details"}))),r.a.createElement("div",{className:"p-2"},r.a.createElement(v.a,{initialValues:{apartmentOrHouseNumber:"",buildingOrTowerNumber:"",phoneNumber:"",additionalDetails:"",addressName:""},validationSchema:O,onSubmit:function(){var e=Object(E.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d({lat:l.lat,lng:l.lng,defaultLocation:h,addressDetails:Object(f.a)({phoneNumber:"".concat(i.value).concat(n.phoneNumber)},n,{markerAddress:t})});case 3:a(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var a=e.handleSubmit,n=e.values,l=e.isSubmitting;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:"grid grid-cols-2 gap-1"},r.a.createElement(k,{label:u({id:"maps-detailed-address-apartment"}),name:"apartmentOrHouseNumber",value:n.apartmentOrHouseNumber,type:"text"}),r.a.createElement(k,{label:u({id:"maps-detailed-address-building"}),name:"buildingOrTowerNumber",value:n.buildingOrTowerNumber,type:"text"})),r.a.createElement(k,{label:u({id:"maps-detailed-address-name"}),name:"addressName",value:n.addressName,type:"text"}),r.a.createElement(S,{label:u({id:"maps-details-extra-details"}),name:"additionalDetails",value:n.additionalDetails}),r.a.createElement(C,{label:u({id:"maps-detailed-address-phone"}),name:"phoneNumber",value:n.phoneNumber,type:"text",countryCode:i,setCountryCode:o}),r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"flex items-center mb-2"},r.a.createElement("label",null,u({id:"mark-as-default"})),r.a.createElement("input",{className:" mx-2",type:"checkbox",checked:h,onChange:function(){return N(!h)}})),r.a.createElement("button",{type:"submit",disabled:!t,className:"".concat(t?l?"bg-gray-300 text-main-text":"bg-main-color text-main-text":"btn-disabled","   p-2 rounded  w-full  flex items-center justify-center font-semibold")},l?r.a.createElement(m.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:l}):r.a.createElement("h1",null,u({id:"confirm-location"})))))}))))}var k=function(e){var t=e.label,a=(e.value,e.name),l=Object(p.a)(e,["label","value","name"]),s=Object(v.b)(a),c=Object(n.a)(s,2),i=c[0],m=c[1];return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-700"},t),r.a.createElement("input",Object.assign({},i,l,{onBlur:function(e){i.onBlur(e)},className:" w-full rounded-sm border   p-1"})),m.touched&&m.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},m.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},S=function(e){var t=e.label,a=(e.value,e.name),l=Object(p.a)(e,["label","value","name"]),s=Object(v.b)(a),c=Object(n.a)(s,1)[0],i=Object(g.a)().formatMessage;return r.a.createElement("div",{className:"w-full mb-1 relative"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-700"},t),r.a.createElement("h1",{className:"text-xs italic mx-3"},"(",i({id:"maps-details-optional"}),")")),r.a.createElement("textarea",Object.assign({rows:3},c,l,{onBlur:function(e){c.onBlur(e)},className:" w-full rounded-sm border   p-1"})))},C=function(e){var t=e.label,a=(e.value,e.name),l=e.countryCode,s=e.setCountryCode,c=Object(p.a)(e,["label","value","name","countryCode","setCountryCode"]),i=Object(v.b)(a),m=Object(n.a)(i,2),o=m[0],d=m[1];return r.a.createElement("div",{className:"w-full mb-1 flex flex-col "},r.a.createElement("label",{htmlFor:a,className:"text-sm font-semibold text-gray-800 mb-1"},t),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"0.4fr 1fr",gap:"0.5rem"}},r.a.createElement(N.a,{options:j,isSearchable:!1,value:l,onChange:s,styles:{dropdownIndicator:function(e){return Object(f.a)({},e,{padding:"0.25rem"})},valueContainer:function(e){return Object(f.a)({},e,{padding:"0.5rem"})}}}),r.a.createElement("input",Object.assign({},o,c,{onBlur:function(e){o.onBlur(e)},className:" border rounded w-full p-2 ".concat(d.error&&"border-main-color")}))),d.touched&&d.error?r.a.createElement("h1",{className:"text-xs text-main-color mt-1"},d.error):r.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},M=["places"],_={lat:29.3759,lng:47.9774},P={styles:o.a,disableDefaultUI:!0,zoomControl:!0};function D(e){var t=e.setShowMap,a=Object(b.useMediaQuery)({query:"(min-width: 768px)"}),l=Object(d.d)({googleMapsApiKey:"AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg",libraries:M}),s=l.isLoaded,i=l.loadError,o=r.a.useState(null),p=Object(n.a)(o,2),h=p[0],x=p[1],f=r.a.useState(null),E=Object(n.a)(f,2),v=E[0],g=E[1],y=r.a.useState(null),N=Object(n.a)(y,2),w=N[0],j=N[1],k=r.a.useRef(),S=r.a.useCallback((function(e){k.current=e}),[]),C=r.a.useCallback((function(e){var t=e.lat,a=e.lng;k.current.panTo({lat:t,lng:a}),x({lat:t,lng:a}),g(null)}),[]);return r.a.useEffect((function(){h&&c.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(h.lat,",").concat(h.lng,"&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg")).then((function(e){console.log(e.data),j("".concat(e.data.results[0].formatted_address)),g("".concat(e.data.results[0].address_components.map((function(e){return e.short_name})).join(", ")))})).catch((function(e){return console.log(e)}))}),[h]),i?r.a.createElement("div",{className:"flex justify-center items-center",style:{height:"calc(-173px + 100vh)"}},r.a.createElement("h1",null,"There was an Error loading maps, Please try again ")):s?r.a.createElement("div",{className:"".concat(a?"my-addresses-desktop-maps__grid":"my-addresses-mobile-maps__grid")},r.a.createElement("div",{className:"relative h-full"},r.a.createElement(u.a,{panTo:C,markerAddress:w}),r.a.createElement(d.a,{mapContainerStyle:{width:"100%",height:a?"100%":"500px"},zoom:15,center:_,options:P,clickableIcons:!1,onLoad:S,onClick:function(e){x({lat:e.latLng.lat(),lng:e.latLng.lng()})}},h&&r.a.createElement(d.c,{position:{lat:h.lat,lng:h.lng}}),v&&r.a.createElement(d.b,{onCloseClick:function(){return g(null)},position:{lat:h.lat,lng:h.lng},options:{pixelOffset:new window.google.maps.Size(0,-50)}},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",null,r.a.createElement("h1",null,v)))))),r.a.createElement(O,{markerAddress:w,marker:h,setShowMap:t})):r.a.createElement("div",{className:"flex justify-center items-center",style:{height:"calc(-176px + 100vh)"}},r.a.createElement(m.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!s}))}},289:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),l=a(1),r=a.n(l),s=a(29);function c(e){var t=e.message,a=e.closeFunction;return r.a.createElement(n.c.div,{variants:{hidden:{y:"20px",x:"-50%",opacity:0},visible:{y:0,opacity:1},exited:{y:20,opacity:0}},initial:"hidden",animate:"visible",exit:"exited",className:"snackbar bg-green-800 text-main-text rounded font-semibold flex text-sm"},r.a.createElement("h1",{className:"mx-3"},t),r.a.createElement("button",{onClick:a,className:"mx-3"},r.a.createElement(s.b,{className:"w-5 h-5"})))}},290:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(1),l=a.n(n),r=a(31),s=a(60),c=a(291),i=a.n(c);function m(e){var t=e.setShowMap,a=Object(s.a)().formatMessage;return l.a.createElement("div",{className:"flex flex-col justify-center items-center",style:{height:"calc(-176px + 100vh)"}},l.a.createElement("img",{src:i.a,alt:"map",style:{height:"250px"},className:"mb-6"}),l.a.createElement("div",{className:"flex flex-col items-center"},l.a.createElement("h1",{className:"text-lg text-center font-semibold"},a({id:"no-addresses-yet"})),l.a.createElement("button",{onClick:function(){return t(!0)},className:" mt-3  font-semibold flex items-center rounded px-4 py-2 \n           \n             bg-btn-primary-light text-btn-secondary-light\n            \n           "},l.a.createElement("h1",{className:"mx-2 uppercase"},a({id:"add-new-address"})),l.a.createElement(r.f,{className:"w-20p h-20p"}))))}},291:function(e,t,a){e.exports=a.p+"static/media/manWithMap.69817732.svg"},292:function(e,t,a){e.exports=a.p+"static/media/shoppingLost.8712e6ec.svg"},349:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return te}));var n=a(1),l=a.n(n),r=a(275),s=a(4),c=a(60),i=a(30),m=a(5),o=a(18),d=a(79);function u(){return l.a.createElement(d.a,{speed:2,viewBox:"0 0 250 98",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},l.a.createElement("ellipse",{x:"48",y:"48",rx:"50",ry:"50",width:"30",height:"46"}),l.a.createElement("rect",{x:"80",y:"25",rx:"5",ry:"5",width:"140",height:"25"}),l.a.createElement("rect",{x:"80",y:"55",rx:"5",ry:"5",width:"140",height:"25"}),l.a.createElement("rect",{x:"80",y:"85",rx:"5",ry:"5",width:"140",height:"25"}))}var b=a(117);function p(){var e=Object(c.a)().formatMessage,t=l.a.useContext(o.a),a=t.userData,n=t.authenticationLoading,r=t.authenticationFetching,i=t.userLogoutMutation;return n||r?l.a.createElement(u,null):l.a.createElement(s.c.div,{className:"flex mb-4 rounded-lg  p-2 border shadow-itemsSlider-shallow overflow-hidden "},l.a.createElement("div",{className:"flex items-center justify-center",style:{flexBasis:"20%"}},l.a.createElement("div",{className:"p-2 text-xl text-body-light rounded-full bg-gray-500"},null===a||void 0===a?void 0:a.name.split(" ")[0].charAt(0).toUpperCase())),l.a.createElement("div",{className:" flex flex-col items-center text-sm flex-1 justify-center font-semibold mx-2 "},l.a.createElement("div",{className:"flex mb-1 items-center "},l.a.createElement("h1",null,e({id:"welcome-user"})," "),l.a.createElement("h1",{className:"mx-1"},null===a||void 0===a?void 0:a.name)),l.a.createElement("h1",{className:"mb-1"},null===a||void 0===a?void 0:a.mobile),l.a.createElement("div",{className:"flex items-center"},l.a.createElement(b.b,{className:" w-5 h-5 text-main-color"}),l.a.createElement("button",{onClick:i,className:"hover:underline mx-1 font-semibold  text-main-color"},e({id:"logout"})))))}function h(e){var t=e.isLightTheme,a=Object(c.a)().formatMessage,n=Object(i.j)().url;return l.a.createElement(s.c.div,{initial:!1,layout:!0,className:" flex flex-col self-start "},l.a.createElement(p,null),l.a.createElement("div",{className:"flex flex-col rounded-lg   overflow-hidden ".concat(t?"shadow-itemsSlider-shallow":"shadow-itemsSlider-wide")},[{url:"",name:"my-profile"},{url:"/addresses",name:"my-addresses"},{url:"/orders",name:"my-orders"}].map((function(e){return l.a.createElement("div",{key:e.name},l.a.createElement(m.c,{exact:!0,className:"w-full px-6 py-4 inline-block text-center ",activeClassName:"".concat(t?"bg-btn-primary-light text-btn-secondary-light font-semibold":"bg-btn-primary-dark text-btn-secondary-dark "),to:"".concat(n).concat(e.url)},a({id:e.name})),l.a.createElement("hr",null))}))))}var x=a(2),f=a(33),E=a(3),v=a.n(E),g=a(6),y=a(52),N=a(20),w=a(26),j=a(14),O=a.n(j),k=(a(32),a(19));function S(e){var t=e.userData,a=e.setProfileEditModalOpen,n=e.editMutation,r=l.a.useState(!1),i=Object(x.a)(r,2),m=i[0],o=i[1],d=l.a.useState(""),u=Object(x.a)(d,2),b=u[0],p=u[1],h=Object(c.a)(),f=h.formatMessage,E=h.locale,j=N.b({email:N.d().email(f({id:"email-validation"})),name:N.d().required(f({id:"fullname-empty"}))});return l.a.createElement(s.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed bg-body-light  z-50 top-0 w-full h-full left-0 "},m&&l.a.createElement(y.a,{message:b,closeFunction:function(){o(!1)}}),l.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},l.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return a(!1)}},"en"===E?l.a.createElement(k.f,{className:"w-6 h-6 "}):l.a.createElement(k.g,{className:"w-6 h-6 "})),l.a.createElement("h1",{className:" text-lg mx-4"},f({id:"edit-personal-information"}))),l.a.createElement(w.a,{initialValues:{email:t.email||"",name:t.name},validationSchema:j,onSubmit:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.prev=1,e.next=4,n(t);case 4:a(!1),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response),o(!0),p("Something went wrong, Please try again");case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting;return l.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},l.a.createElement(C,{label:f({id:"full-name"}),name:"name",value:a.name,type:"text"}),l.a.createElement(C,{label:f({id:"email-address"}),name:"email",value:a.email,type:"email"}),l.a.createElement("div",{className:"mt-1"},l.a.createElement("button",{type:"submit",className:"".concat(n?"bg-gray-600 cursor-not-allowed":"bg-main-color text-second-nav-text-light hover:bg-red-800"," w-full rounded flex items-center justify-center text-sm  p-2 font-semibold  transition duration-150 uppercase ")},n&&l.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:n}),!n&&f({id:"save-button"}))))})))}var C=function(e){var t=e.label,a=(e.value,e.name),n=Object(f.a)(e,["label","value","name"]),r=Object(w.b)(a),s=Object(x.a)(r,2),c=s[0],i=s[1];return l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),l.a.createElement("input",Object.assign({},c,n,{onBlur:function(e){c.onBlur(e)},className:" w-full rounded-lg border p-2 mt-1"})),i.touched&&i.error?l.a.createElement("h1",{className:"text-xs text-main-color mt-1"},i.error):l.a.createElement("h1",{className:"text-xs text-main-color mt-1",style:{height:"18px"}}," "))},M=a(289);function _(e){var t=e.setPasswordChangeModalOpen,a=e.changePasswordMutation,n=Object(c.a)(),r=n.formatMessage,i=n.locale,m=l.a.useState(!1),o=Object(x.a)(m,2),d=o[0],u=o[1],b=l.a.useState(""),p=Object(x.a)(b,2),h=p[0],f=p[1],E=l.a.useState(!1),j=Object(x.a)(E,2),S=j[0],C=j[1],_=l.a.useState(""),D=Object(x.a)(_,2),L=D[0],T=D[1],q=function(){u(!1)},A=N.b({newPassword:N.d().required(r({id:"password-empty"})).min(6,r({id:"password-min-6"})).max(15,r({id:"password-max-15"})),confirmPassword:N.d().required(r({id:"password-empty"})).when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:N.d().oneOf([N.c("newPassword")],r({id:"same-password"}))})});return l.a.createElement(s.c.div,{variants:{hidden:{y:"50%",opacity:0},visible:{y:0,opacity:1,transition:{type:"tween"}},exited:{x:"100%",opacity:0,transition:{type:"tween"}}},initial:"hidden",animate:"visible",exit:"exited",className:"fixed bg-body-light  z-50 top-0 w-full h-full left-0 "},d&&l.a.createElement(y.a,{message:h,closeFunction:q}),S&&l.a.createElement(M.a,{message:L,closeFunction:q}),l.a.createElement("div",{className:" sticky top-0 p-3 flex items-center bg-main-color text-main-text z-1"},l.a.createElement("button",{className:"text-main-text text-center",onClick:function(){return t(!1)}},"en"===i?l.a.createElement(k.f,{className:"w-6 h-6 "}):l.a.createElement(k.g,{className:"w-6 h-6 "})),l.a.createElement("h1",{className:" text-lg mx-4"},r({id:"change-password"}))),l.a.createElement(w.a,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:A,onSubmit:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,e.next=4,a(t);case 4:T(r({id:"password-change-success"})),C(!0),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.clear(),console.log(e.t0.response),u(!0),f(r({id:"something-went-wrong-snackbar"}));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,a=e.values,n=e.isSubmitting;return l.a.createElement("form",{className:"px-3 py-2 ",onSubmit:t},l.a.createElement(P,{label:r({id:"old-password"}),name:"oldPassword",value:a.oldPassword,type:"password"}),l.a.createElement(P,{label:r({id:"new-password"}),name:"newPassword",value:a.newPassword,type:"password"}),l.a.createElement(P,{label:r({id:"confirm-password"}),name:"confirmPassword",value:a.confirmPassword,type:"password"}),l.a.createElement("div",{className:"mt-1"},l.a.createElement("button",{type:"submit",className:"".concat(n?"bg-gray-600 cursor-not-allowed":"bg-main-color text-second-nav-text-light hover:bg-red-800"," w-full rounded flex items-center justify-center p-2 font-semibold  transition duration-150 uppercase ")},n&&l.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:n}),!n&&r({id:"save-button"}))))})))}var P=function(e){var t=e.label,a=(e.value,e.name),n=Object(f.a)(e,["label","value","name"]),r=Object(w.b)(a),s=Object(x.a)(r,2),c=s[0],i=s[1];return l.a.createElement("div",{className:"mb-2"},l.a.createElement("label",{htmlFor:a,className:" font-semibold "},t),l.a.createElement("input",Object.assign({},c,n,{onBlur:function(e){c.onBlur(e)},className:"".concat(i.touched&&i.error&&"border-main-color"," w-full rounded-lg border p-2 mt-1")})),i.touched&&i.error?l.a.createElement("h1",{className:"text-sm text-main-color mt-1"},i.error):l.a.createElement("h1",{className:"text-sm text-main-color mt-1",style:{height:"22px"}}," "))},D=a(279),L=a.n(D);function T(){var e=Object(c.a)().formatMessage,t=l.a.useState(!1),a=Object(x.a)(t,2),n=a[0],r=a[1],i=l.a.useState(!1),m=Object(x.a)(i,2),d=m[0],u=m[1],b=l.a.useContext(o.a),p=b.userData,h=b.editMutation,f=b.authenticationLoading,E=b.authenticationFetching,v=b.changePasswordMutation,g={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}};return f||E?l.a.createElement(s.c.div,{variants:g,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{height:"calc(-90px + 100vh)"}},l.a.createElement("div",{className:"flex h-full justify-center items-center"},l.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0}))):l.a.createElement(s.c.div,{variants:g,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{height:"calc(-90px + 100vh)"}},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"bg-main-color text-main-text px-3 py-3 flex items center justify-between"},l.a.createElement("h1",{className:"text-lg"},e({id:"general-information"})),l.a.createElement("button",{onClick:function(){return r(!0)},className:"px-4 text-sm py-1 font-semibold bg-body-light text-btn-primary-light rounded"},e({id:"edit"}))),l.a.createElement("div",{className:" "},l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:"  w-2/4"},e({id:"full-name"})),l.a.createElement("h1",{className:""},p.name)),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:"  w-2/4"},e({id:"phone-number"})),l.a.createElement("h1",{className:""},p.mobile)),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:"  w-2/4"},e({id:"email-address"})),l.a.createElement("h1",{className:""},p.email)),l.a.createElement("hr",null)),l.a.createElement("div",null,l.a.createElement("div",{className:" py-4 px-3 flex    "},l.a.createElement("h1",{className:"  w-2/4"},e({id:"date-joined"})),l.a.createElement("h1",{className:""},L()(p.created_at).format("DD/MM/YYYY"))),l.a.createElement("hr",null)))),l.a.createElement("div",{className:"flex items-center justify-end  py-4 px-3"},l.a.createElement("button",{onClick:function(){return u(!0)},className:"px-4 py-1 bg-main-color text-main-text rounded uppercase"},e({id:"change-password"}))),l.a.createElement(s.a,null,n&&l.a.createElement(S,{userData:p,setProfileEditModalOpen:r,editMutation:h})),l.a.createElement(s.a,null,d&&l.a.createElement(_,{setPasswordChangeModalOpen:u,changePasswordMutation:v})))}var q=a(281);function A(e){var t=e.data,a=e.handleRemoveLocation,n=e.deleteButtonLoading,r=Object(c.a)().formatMessage,i=l.a.useState(null),m=Object(x.a)(i,2),o=m[0],d=m[1];return l.a.createElement(s.c.div,{layout:!0,variants:{hidden:{opacity:0},visible:{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"},exited:{opacity:0,clipPath:"polygon(0 54%, 100% 53%, 100% 53%, 0 54%)"}},initial:"hidden",animate:"visible",exit:"exited",className:"rounded border shadow-itemsSlider-shallow bg-body-light"},l.a.createElement("div",{style:{minHeight:"150px",position:"relative"}},l.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(t.lat,",").concat(t.lng,"&zoom=15&size=200x150&key=").concat("AIzaSyAYprqr3Vrnmhwx9UQozUNNks7CVH9m3Xg"),alt:"thumbnail"}),l.a.createElement(s.c.div,{variants:{partial:{right:0,top:0,bottom:0,width:"20%"},full:{right:0,top:0,bottom:0,width:"100%"}},initial:"partial",animate:o===t.id?"full":"partial",layout:!0,exit:"partial",onClick:function(){return e=t.id,void d(o===e?null:e);var e},className:"absolute overflow-hidden p-2 text-main-text  transition cursor-pointer duration-150 opacity-50 bg-gray-800 hover:opacity-75"},l.a.createElement(k.m,{style:{left:"10px"},className:"absolute  top-1/2 transform  -translate-y-1/2  w-5 h-5"}),l.a.createElement(s.a,null,o===t.id&&l.a.createElement(s.c.div,{initial:{opacity:0},animate:{opacity:1,marginLeft:"35px"},exit:{opacity:0},layout:!0,className:"text-sm"},l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-apartment-short"}),":"),l.a.createElement("h1",null,t.apartment_house_number)),l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-building-short"}),":"),l.a.createElement("h1",null,t.building_tower_number)),l.a.createElement("div",null,l.a.createElement("h1",null,r({id:"maps-detailed-address-phone-short"}),":"),l.a.createElement("h1",null,t.phone_number)))))),l.a.createElement("div",{className:"p-2"},l.a.createElement("div",{className:"text-sm mb-2 font-semibold",style:{height:"50px"}},l.a.createElement("h1",null,t.marked_address)),l.a.createElement("button",{onClick:function(){return a(t.id)},className:" ".concat(n===t.id?"bg-gray-300":"bg-main-color"," text-main-text rounded   p-2 uppercase   text-sm w-full flex justify-center")},n===t.id?l.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:20,width:20,visible:!0}):l.a.createElement("h1",null,r({id:"remove-location"})))))}var B=a(138),z=a.n(B);function F(e){var t=e.locations,a=e.setShowMap,n=Object(c.a)().formatMessage,r=l.a.useContext(o.a).deleteAddressMutation,i=l.a.useState(null),m=Object(x.a)(i,2),d=m[0],u=m[1],b=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(t),e.next=4,r(t);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u(null),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"h-full"},l.a.createElement("div",{className:" p-3  bg-main-color text-main-text"},l.a.createElement("h1",{className:"text-lg"},n({id:"my-addresses"}))),l.a.createElement(s.b,null,l.a.createElement(s.c.div,{layout:!0,className:"p-3 locations-grid__desktop"},l.a.createElement(s.a,null,t.map((function(e){return l.a.createElement(A,{key:e.id,data:e,handleRemoveLocation:b,deleteButtonLoading:d})}))),l.a.createElement(s.c.button,{layout:!0,key:"add-button",onClick:function(){return a(!0)},className:"p-3 flex items-center justify-center self-center justify-self-center bg-main-color hover:bg-red-900 transition duration-150 relative rounded-lg text-main-text"},l.a.createElement(z.a,{background:!0}),l.a.createElement(k.p,{className:"h-8 w-8"})))))}var H=a(290);function Y(){var e=l.a.useState(!1),t=Object(x.a)(e,2),a=t[0],n=t[1],r=l.a.useContext(o.a),c=r.userAddresses;return r.userAddressesLoading?l.a.createElement("div",{className:"flex h-full justify-center items-center"},l.a.createElement(O.a,{type:"ThreeDots",color:"#b72b2b",height:40,width:40,visible:!0})):l.a.createElement(s.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"h-full"},!a&&(0===c.length?l.a.createElement(H.a,{setShowMap:n}):l.a.createElement(F,{locations:c,setShowMap:n})),a&&l.a.createElement("div",{className:"relative h-full"},l.a.createElement(q.a,{setShowMap:n})))}var V=a(9),I=a(306),U=a(17),Q=a(292),R=a.n(Q);function X(){var e=Object(c.a)().formatMessage;return l.a.createElement("div",{className:"flex flex-col justify-center items-center h-full"},l.a.createElement("img",{src:R.a,alt:"map",className:"mb-6",style:{height:"200px"}}),l.a.createElement("div",{className:"flex flex-col items-center "},l.a.createElement("h1",{className:"text-lg text-center font-semibold"},e({id:"no-orders-placed"})),l.a.createElement("button",{className:" mt-3  font-semibold flex items-center rounded px-4 py-2  \n            \n            'bg-btn-primary-light text-btn-secondary-light\n            \n           "},l.a.createElement("h1",{className:"mx-2 uppercase"},e({id:"start-shopping-now"})),l.a.createElement(k.c,{className:"w-20p h-20p"}))))}var J=a(40);function G(e){var t=e.order,a=Object(c.a)().formatMessage,n=l.a.useState(!1),r=Object(x.a)(n,2),i=r[0],m=r[1];return l.a.createElement(s.c.div,{layout:!0,className:"rounded border"},l.a.createElement(s.c.div,{layout:!0,className:" text-body-text-dark  px-2 py-1 font-semibold  ".concat(t.delivered?"bg-green-700 ":"bg-orange-500 ")},l.a.createElement("h1",null,a({id:"status"})," : ",t.status)),l.a.createElement(s.c.div,{layout:!0,className:"my-orders-grid__desktop text-sm p-2"},l.a.createElement(s.c.div,{layout:!0},l.a.createElement("h1",{className:"font-semibold "},a({id:"order-number"})," : ",t.id),l.a.createElement("div",{className:"flex items-center"},l.a.createElement("h1",{className:""},a({id:"order-date"})," :"),l.a.createElement("h1",{className:"text-gray-600 mx-1"}," ",L()(t.created_at).format("DD/MM/YYYY-HH:MM"))),l.a.createElement("div",{className:"flex items-center"},l.a.createElement("h1",{className:""},"delivered"===t.status?a({id:"delivered-at"}):a({id:"expected-delivery"})," ",":"),l.a.createElement("h1",{className:"mx-1 text-gray-600"},"delivered"===t.status?t.deliveryDate:"soon")),l.a.createElement("div",{className:"flex items-center"},l.a.createElement("h1",{className:""},"delivered"===t.status?a({id:"delivered-to"}):a({id:"deliver-to"}),":"),l.a.createElement("h1",{className:"mx-1 text-gray-600"}," ",t.address.marked_address)),l.a.createElement("div",{className:"flex items-center"},l.a.createElement("h1",null,a({id:"payment-method"}),":"),l.a.createElement("h1",{className:"text-gray-600 mx-1"},t.payment_method))),l.a.createElement(s.c.div,{layout:!0})),l.a.createElement(s.c.div,{layout:!0,className:"p-2 flex items-center "},l.a.createElement("h1",null,a({id:"show-order-receipt"})),l.a.createElement("button",{onClick:function(){m(!i)},className:"p-1 mx-2 border rounded-full shadow-md"},i?l.a.createElement(J.d,{className:"h-6 w-6"}):l.a.createElement(J.b,{className:"h-6 w-6"}))),i&&l.a.createElement("hr",null),l.a.createElement(s.a,null,i&&l.a.createElement(K,{orderItems:t.items,orderSubtotal:t.subtotal,orderTotal:t.total,shippingCost:t.shipping_cost})))}var K=function(e){var t=e.orderItems,a=e.orderTotal,n=e.orderSubtotal,r=e.shippingCost,i=Object(c.a)(),o=i.locale,d=i.formatMessage;return l.a.createElement(s.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exited:{opacity:0}},initial:"hidden",animate:"visible",exit:"exited",className:"my-orders-items__grid-desktop p-2"},l.a.createElement("div",{className:"my-orders-items__table-desktop font-semibold "},l.a.createElement("h1",null,"#"),l.a.createElement("h1",null,d({id:"the-item"})),l.a.createElement("h1",null,d({id:"quantity"})),l.a.createElement("h1",null,d({id:"price"}))),l.a.createElement("br",null),t.map((function(e,t){return l.a.createElement("div",{key:e.id,className:"my-orders-item-desktop text-sm"},l.a.createElement("div",{className:""},l.a.createElement("h1",{className:""},t+1)),l.a.createElement(m.b,{to:"/".concat(o,"/c/").concat(e.id),className:"hover:underline"},l.a.createElement("h1",{className:"truncate  semibold"},e.product.translation[o].title)),l.a.createElement("div",{className:""},l.a.createElement("h1",{className:""},e.qty)),l.a.createElement("div",{className:""},l.a.createElement("h1",{className:""},e.price)))})),l.a.createElement("hr",{className:"my-1"}),l.a.createElement("div",{className:"my-orders-receipt-summary font-bold text-sm"},l.a.createElement("h1",null,d({id:"cart-total"})),l.a.createElement("h1",null,n),l.a.createElement("h1",null,d({id:"cart-delivery-cost"})),l.a.createElement("h1",{className:"mb-2"},"0"===r?d({id:"cart-free"}):r),l.a.createElement("h1",{className:"text-green-700 text-base"},d({id:"subtotal"})),l.a.createElement("h1",{className:"text-green-700 text-base"},a)))};function W(e){var t=e.data,a=Object(c.a)().formatMessage;return l.a.createElement(s.c.div,{layout:!0,initial:!1,className:"h-full"},l.a.createElement(s.c.div,{layout:!0,initial:!1,className:"flex p-3 items-center justify-between bg-main-color text-main-text"},l.a.createElement(s.c.h1,{className:"text-lg"},a({id:"my-orders"}))),l.a.createElement(s.c.div,{layout:!0,initial:!1,className:"grid grid-cols-1 gap-2 p-3"},t.map((function(e){return l.a.createElement(G,{key:e.id,order:e})}))))}function $(){var e=Object(V.c)("userOrders",Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.B)();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),{retry:!0}),t=e.data;if(e.isLoading)return l.a.createElement("div",{className:"flex h-full justify-center items-center"},l.a.createElement(I.BeatLoader,{size:10,color:"#b72b2b"}));return l.a.createElement(s.c.div,{variants:{hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"h-full"},0===t.length&&l.a.createElement(X,null),0!==t.length&&l.a.createElement(W,{data:t}))}var Z=a(25),ee=a(85);function te(){var e=l.a.useContext(Z.a).isLightTheme,t=Object(i.j)().path,a=Object(i.h)();return l.a.createElement(ee.a,null,l.a.createElement(r.b,null,l.a.createElement("title",null,"My Account | MRG")),l.a.createElement("div",{className:"relative  overflow-hidden myaccount__grid p-4 pb-3 ".concat(e?"bg-body-light text-body-text-light":"bg-body-dark text-body-text-dark"," max-w-default mx-auto"),style:{minHeight:"calc(-62px + 100vh)"}},l.a.createElement(h,{isLightTheme:e}),l.a.createElement(s.b,null,l.a.createElement(s.c.div,{variants:{hidden:{opacity:0},visible:{opacity:1},exit:{x:"-100%",opacity:0}},initial:"hidden",animate:"visible",exit:"exit",className:"rounded-lg overflow-hidden h-full ".concat(e?"shadow-itemsSlider-shallow":"shadow-itemsSlider-wide")},l.a.createElement(s.a,{exitBeforeEnter:!0},l.a.createElement(i.d,{location:a,key:a.key},l.a.createElement(i.b,{path:"".concat(t),exact:!0,component:T}),l.a.createElement(i.b,{path:"".concat(t,"/addresses"),component:Y}),l.a.createElement(i.b,{path:"".concat(t,"/orders"),component:$})))))))}}}]);
//# sourceMappingURL=13.b213bae2.chunk.js.map