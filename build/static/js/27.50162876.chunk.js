(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[27],{362:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(2),r=a(1),l=a.n(r),c=a(60),u=a(9),i=a(30),s=a(159),o=a(174),d=a(85),f=a(17),p=a(4),m=a(150),h=a(154);function b(){var e=Object(i.i)().query,t=Object(c.a)(),a=t.locale,r=t.formatMessage,b=l.a.useState(null),y=Object(n.a)(b,2),g=y[0],v=y[1],O=l.a.useState({value:"newest",label:"Newest"}),E=Object(n.a)(O,2),S=E[0],j=E[1],P=l.a.useState(1),w=Object(n.a)(P,2),x=w[0],B=w[1],N=l.a.useState(!1),C=Object(n.a)(N,2),F=C[0],k=C[1],L=l.a.useState([1e4]),M=Object(n.a)(L,2),I=M[0],J=M[1],W=l.a.useState([]),_=Object(n.a)(W,2),q=_[0],A=_[1],R=l.a.useState(!1),z=Object(n.a)(R,2),D=z[0],G=z[1],H=l.a.useState(!1),K=Object(n.a)(H,2),Q=K[0],T=K[1],U=l.a.useState(!1),V=Object(n.a)(U,2),X=V[0],Y=V[1],Z=Object(h.a)(),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(u.c)(["searchProducts",e],f.I,{retry:!0,refetchOnWindowFocus:!1}),ne=ae.data,re=ae.isLoading,le=Object(u.c)(["filtered-products",{search:e,brandFilters:g,sortBy:S,page:x,resultsPerPage:25,locale:a,priceFilters:I}],f.l,{retry:!0,refetchOnWindowFocus:!1,enabled:F}),ce=le.data,ue=le.isLoading;l.a.useEffect((function(){0===q.length?k(!1):k(!0)}),[q]);return l.a.createElement(d.a,null,l.a.createElement("div",{className:"min-h-screen relative"},l.a.createElement(p.a,null,D&&l.a.createElement(m.a,{key:"side-cart",setSideMenuOpen:G}),D&&l.a.createElement(p.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return G(!1)},className:"side__addCart-bg"})),ne&&l.a.createElement("div",{className:"p-3 text-lg border-b"},l.a.createElement("h1",null,ne.length>2&&ne.length," ",function(){switch(ne.length){case 1:return r({id:"one-search-results"});case 2:return r({id:"two-search-results"});case ne.length>10:return r({id:"more-than-10-search-results"});default:return r({id:"search-results"})}}()," ",l.a.createElement("strong",null,e))),l.a.createElement(p.b,null,l.a.createElement(p.c.div,{layout:!0,className:"px-3"},0!==q.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement(p.c.h1,{layout:!0,className:"text-lg mb-2 font-semibold"},r({id:"filtered-by"})," :"),l.a.createElement(p.c.div,{layout:!0,className:"flex items-center"},q.map((function(e){return l.a.createElement(p.c.button,{layout:!0,className:"mx-1 py-1 px-3 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return t=e.type,A((function(e){return e.filter((function(e){return e.type!==t}))})),"Brand"===t&&v(null),"Sort"===t&&j({value:"newest",label:"Newest"}),void("Price"===t&&A((function(e){return e.filter((function(e){return"Price"!==e.type}))})));var t}},r({id:e.type})," :"," ",r({id:e.value}))}))),l.a.createElement("hr",{className:"my-3"})))),l.a.createElement(s.a,{products:ne,productsLoading:re,setCartMenuOpen:G,filteredProducts:ce,filteredProductsLoading:ue,triggerRef:ee,setPage:B}),l.a.createElement(p.a,null,te&&l.a.createElement(o.a,{productsLoading:re,products:ne,brandFilters:g,handleBrandChange:function(e){g===e?(v(null),A((function(e){return e.filter((function(e){return"Brand"!==e.type}))}))):(A((function(t){var a=t.filter((function(e){return"Brand"!==e.type}));return a.push({type:"Brand",value:e}),a})),v(e))},filtersApplied:F,setSortByOpen:T,setFiltersOpen:Y,filtersOpen:X,sortByOpen:Q,sortBy:S,handleSortByChange:function(e){if("newest"===e.value)return A((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void j(e);A((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),j(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||J([e.target.value])},handlePriceChange:function(e){J(e)},handleSubmitPrice:function(){A((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(I[0])}),t}))},priceFilters:I}))))}}}]);
//# sourceMappingURL=27.50162876.chunk.js.map