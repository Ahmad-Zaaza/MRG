(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[27],{348:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(2),r=a(1),l=a.n(r),u=a(60),c=a(9),i=a(30),s=a(159),o=a(173),d=a(85),f=a(17),p=a(4),m=a(148),v=a(154);function h(){var e=Object(i.i)().query,t=Object(u.a)(),a=t.locale,r=t.formatMessage,h=l.a.useState(null),b=Object(n.a)(h,2),g=b[0],y=b[1],O=l.a.useState({value:"newest",label:"Newest"}),E=Object(n.a)(O,2),S=E[0],j=E[1],P=l.a.useState(1),w=Object(n.a)(P,2),x=w[0],B=w[1],N=l.a.useState(!1),C=Object(n.a)(N,2),F=C[0],k=C[1],L=l.a.useState([1e4]),M=Object(n.a)(L,2),I=M[0],J=M[1],R=l.a.useState([]),W=Object(n.a)(R,2),_=W[0],q=W[1],A=l.a.useState(10),D=Object(n.a)(A,2),z=D[0],G=D[1],H=l.a.useState(!1),K=Object(n.a)(H,2),Q=K[0],T=K[1],U=l.a.useState(!1),V=Object(n.a)(U,2),X=V[0],Y=V[1],Z=l.a.useState(!1),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(v.a)(),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],ue=Object(c.c)(["searchProducts",e,x,z],f.I,{retry:!0,refetchOnWindowFocus:!1}),ce=ue.data,ie=ue.isLoading,se=Object(c.c)(["filtered-products",{search:e,brandFilters:g,sortBy:S,page:x,resultsPerPage:z,locale:a,priceFilters:I}],f.l,{retry:!0,refetchOnWindowFocus:!1,enabled:F}),oe=se.filteredData,de=se.isLoading;l.a.useEffect((function(){0===_.length?k(!1):k(!0)}),[_]);return l.a.createElement(d.a,null,l.a.createElement("div",{className:"min-h-screen relative"},l.a.createElement(p.a,null,Q&&l.a.createElement(m.a,{key:"side-cart",setSideMenuOpen:T}),Q&&l.a.createElement(p.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return T(!1)},className:"side__addCart-bg"})),(null===ce||void 0===ce?void 0:ce.products)&&l.a.createElement("div",{className:"p-3 text-lg border-b"},l.a.createElement("h1",null,(null===ce||void 0===ce?void 0:ce.products.length)>2&&(null===ce||void 0===ce?void 0:ce.products.length)," ",function(){switch(null===ce||void 0===ce?void 0:ce.products.length){case 1:return r({id:"one-search-results"});case 2:return r({id:"two-search-results"});case(null===ce||void 0===ce?void 0:ce.products.length)>10:return r({id:"more-than-10-search-results"});default:return r({id:"search-results"})}}()," ",l.a.createElement("strong",null,e))),l.a.createElement(p.b,null,l.a.createElement(p.c.div,{layout:!0,className:"px-3"},0!==_.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement(p.c.h1,{layout:!0,className:"text-lg mb-2 font-semibold"},r({id:"filtered-by"})," :"),l.a.createElement(p.c.div,{layout:!0,className:"flex items-center"},_.map((function(e){return l.a.createElement(p.c.button,{layout:!0,className:"mx-1 py-1 px-3 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return t=e.type,q((function(e){return e.filter((function(e){return e.type!==t}))})),"Brand"===t&&y(null),"Sort"===t&&j({value:"newest",label:"Newest"}),void("Price"===t&&q((function(e){return e.filter((function(e){return"Price"!==e.type}))})));var t}},r({id:e.type})," :"," ",r({id:e.value}))}))),l.a.createElement("hr",{className:"my-3"})))),l.a.createElement(s.a,{products:null===ce||void 0===ce?void 0:ce.products,productsLoading:ie,setCartMenuOpen:T,filteredProducts:null===oe||void 0===oe?void 0:oe.filteredProducts,filteredProductsLoading:de,triggerRef:re,setPage:B}),l.a.createElement(p.a,null,le&&l.a.createElement(o.a,{productsLoading:ie,products:null===ce||void 0===ce?void 0:ce.products,brandFilters:g,handleBrandChange:function(e){g===e?(y(null),q((function(e){return e.filter((function(e){return"Brand"!==e.type}))}))):(q((function(t){var a=t.filter((function(e){return"Brand"!==e.type}));return a.push({type:"Brand",value:e}),a})),y(e))},filtersApplied:F,setSortByOpen:Y,setFiltersOpen:te,filtersOpen:ee,sortByOpen:X,sortBy:S,handleSortByChange:function(e){if("newest"===e.value)return q((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void j(e);q((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),j(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||J([e.target.value])},handlePriceChange:function(e){J(e)},handleSubmitPrice:function(){q((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(I[0])}),t}))},priceFilters:I,handleResultPerPageChange:function(e){G(e)}}))))}}}]);
//# sourceMappingURL=27.00be200c.chunk.js.map