(this.webpackJsonpattiahmall=this.webpackJsonpattiahmall||[]).push([[16],{274:function(e,t,a){e.exports=a.p+"static/media/cartEmpty.84c9a7b0.png"},279:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(1),r=a.n(n),c=a(60),l=a(5),i=a(29),s=a(274),o=a.n(s),m=a(4),u=a(50),d=a(25),f=a(3),p=a.n(f),h=a(6),v=a(2),b=a(18),y=a(14),g=a.n(y);a(32);function x(e){var t=e.item,a=r.a.useContext(u.a),n=a.removeFromCartMutation,i=a.removeFromGuestCartMutation,s=r.a.useContext(d.a).deliveryCountry,o=Object(c.a)(),f=o.formatMessage,y=o.locale,x=r.a.useState(!1),E=Object(v.a)(x,2),N=E[0],C=E[1],O=r.a.useContext(b.a).userId,k=function(){var e=Object(h.a)(p.a.mark((function e(){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),e.prev=1,!O){e.next=10;break}return a=t.id,r=t.cart_id,e.next=7,n({id:a,cart_id:r,userId:O,deliveryCountry:s});case 7:C(!1),e.next=14;break;case 10:return c=t.options.sku,e.next=13,i({sku:c,deliveryCountry:s});case 13:C(!1);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),C(!1),console.log(e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),w={hidden:{x:"".concat("ar"===y?"-100%":"100%")},visible:{x:"0",delay:3},exited:{opacity:0}};return r.a.createElement(m.c.div,{initial:"hidden",animate:"visible",exit:"exited",variants:w,className:" side-cart-menu__item mb-2"},r.a.createElement("div",{className:""},r.a.createElement(l.b,{title:"".concat(t["name_".concat(y)]),className:"hover:underline",to:"/".concat(y,"/c/").concat(t.id)},r.a.createElement("img",{src:"".concat("https://admin-mrg.mrg-mall.com/storage","/small/").concat(t.image),alt:"".concat(t["name_".concat(y)]),className:"max-w-full h-auto"}))),r.a.createElement("div",{className:""},r.a.createElement(l.b,{title:"".concat(t["name_".concat(y)]),className:"hover:underline",to:"/".concat(y,"/c/").concat(t.id)},r.a.createElement("h1",{className:"text-clamp-2 text-sm font-semibold"},"".concat(t["name_".concat(y)]))),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("h1",{className:"text-xs rounded p-1 font-bold  bg-gray-200 inline"},t.total," ",null===s||void 0===s?void 0:s.currency.translation[y].symbol),r.a.createElement("h1",{className:"mx-1 text-sm"},f({id:"quantity"})," : ",t.qty)),r.a.createElement("div",null,r.a.createElement("button",{className:"".concat(N?"bg-gray-300":"bg-main-color text-main-text"," text-xs rounded p-1 my-1 "),onClick:function(){k()}},N?r.a.createElement(g.a,{type:"ThreeDots",color:"#b72b2b",height:21,width:21,visible:!0}):f({id:"remove-from-cart"})))))}function E(e){var t=e.setSideMenuOpen,a=r.a.useContext(u.a),n=a.sideCartItems,s=a.sideCartSubTotal,f=r.a.useContext(d.a).deliveryCountry,p=Object(c.a)(),h=p.formatMessage,v=p.locale,b={hidden:{x:"".concat("ar"===v?"-100%":"100%"),opacity:0},visible:{x:"0%",opacity:1,transition:{type:"tween",staggerChildren:.1}},exited:{x:"".concat("ar"===v?"-100%":"100%"),transition:{when:"afterChildren"}}};return r.a.createElement(m.c.div,{variants:b,initial:"hidden",animate:"visible",exit:"exited",className:"side-add-to-cart__container ".concat("ar"===v?"left-0":"right-0")},r.a.createElement("div",{className:" bg-body-light p-2 h-full flex flex-col "},r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("h1",{className:"font-semibold"},h({id:"shopping-cart"})),r.a.createElement("button",{onClick:function(){return t(!1)}},r.a.createElement(i.b,{className:"w-5 h-5 "}))),r.a.createElement("hr",{className:"my-2"}),0===(null===n||void 0===n?void 0:n.length)&&r.a.createElement("div",{className:"flex flex-col justify-center items-center"},r.a.createElement("img",{src:o.a,alt:"Empty cart"}),r.a.createElement("h1",{className:"font-bold mb-2"},h({id:"cart-empty"})),r.a.createElement(l.b,{to:"/".concat(v),className:"text-sm text-blue-600 hover:underline"},h({id:"check-today-deals"}))),0!==n.length&&r.a.createElement("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",style:{maxHeight:"calc(-110px + 100vh)"}},r.a.createElement(m.a,null,n.map((function(e){return r.a.createElement(x,{key:e.options.sku,item:e})})))),r.a.createElement("hr",{className:"my-1"}),0!==n.length&&r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-between semibold items-center  my-2"},r.a.createElement("h1",{className:""},h({id:"subtotal"})),r.a.createElement("h1",{className:" font-semibold"},s," ",null===f||void 0===f?void 0:f.currency.translation[v].symbol)),r.a.createElement("hr",{className:"my-1"}),r.a.createElement("div",{className:" flex items-center my-2 text-center text-second-nav-text-light "},r.a.createElement(l.b,{to:"/".concat(v,"/cart"),className:"flex-1 py-2 px-3 border border-main-color text-main-color mx-1 hover:bg-main-color hover:text-main-text uppercase transition duration-150   rounded"},h({id:"go-to-cart"}))))))}},306:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(106),r=a(1),c=a.n(r),l=a(60);function i(e){var t=e.products,a=e.handleBrandChange,r=e.brandFilters,i=Object(l.a)(),s=i.formatMessage,o=i.locale,m=c.a.useMemo((function(){var e=[];return t.forEach((function(t){t.brand&&e.push({label:t.brand.translation[o].name,id:t.brand.id})})),e=Object(n.a)(new Set(e.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}))}),[]);return 0===m.length?null:c.a.createElement("div",{className:"mb-4"},c.a.createElement("h1",{className:"text-xl font-semibold"},s({id:"filter-by-brand"})),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("div",{className:"flex flex-col justify-center"},m.map((function(e){return c.a.createElement("div",{key:e.id,className:"flex items-center mb-2 text-sm "},c.a.createElement("input",{type:"checkbox",className:"form-checkbox border-gray-600 text-red-700 mr-5",onChange:function(){return a(e)},checked:(null===r||void 0===r?void 0:r.id)===e.id}),c.a.createElement("label",{className:"hover:underline hover:text-blue-700 cursor-pointer"},e.label))}))))}},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(15),r=a(4),c=a(1),l=a.n(c),i=a(60),s=a(153),o=a(25);function m(e){var t=e.handlePriceChange,a=e.priceFilters,c=e.handleChangePriceInput,m=e.handleSubmitPrice,u=Object(i.a)(),d=u.locale,f=u.formatMessage,p=l.a.useContext(o.a).deliveryCountry;return l.a.createElement(r.c.div,{layout:!0,className:"mb-4"},l.a.createElement("h1",{className:"text-xl font-semibold"},f({id:"filter-by-price"})," (",null===p||void 0===p?void 0:p.currency.translation[d].symbol,")"),l.a.createElement("hr",{className:"my-2"}),l.a.createElement("div",{className:"p-3"},l.a.createElement(s.Range,{step:.1,min:0,rtl:"ar"===d,max:1e4,values:a,onChange:t,renderTrack:function(e){var t=e.props,a=e.children;return l.a.createElement("div",Object.assign({},t,{style:Object(n.a)({},t.style,{height:"6px",width:"100%",backgroundColor:"#ccc"})}),a)},renderThumb:function(e){var t=e.props;return l.a.createElement("div",Object.assign({},t,{style:Object(n.a)({},t.style,{height:"15px",width:"15px",borderRadius:"50%",backgroundColor:"#999"})}))}})),l.a.createElement("div",{className:"mb-3",style:{display:"grid",gridTemplateColumns:"0.5fr 1fr 0.5fr"}},l.a.createElement("div",{className:"text-center"},0),l.a.createElement("div",{className:"text-center"},l.a.createElement("input",{type:"number",value:a[0],onChange:c,className:"p-1 text-center border rounded-lg min-w-0"})),l.a.createElement("div",{className:"text-center"},1e4)),l.a.createElement("div",{className:"flex items-center justify-center"},l.a.createElement("button",{className:"px-2 py-1 bg-green-700 text-main-text rounded",onClick:m},f({id:"submit"}))))}},308:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(4),r=a(1),c=a.n(r),l=a(60),i=a(51);function s(e){var t=e.sortBy,a=e.handleRemoveFilters,r=e.filters,s=e.handleSortByChange,o=Object(l.a)().formatMessage,m=c.a.useMemo((function(){return[{value:"newest",label:"Newest"},{label:"Price (Low to High)",value:"price-asc"},{label:"Price (High to Low)",value:"price-desc"}]}),[]);return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.4fr",marginBottom:"0.5rem"}},c.a.createElement(n.b,null,c.a.createElement(n.c.div,{layout:!0,className:"flex items-center"},0!==r.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement(n.c.h1,{layout:!0,className:"text-lg font-semibold"},o({id:"filtered-by"})),c.a.createElement(n.c.div,{layout:!0,className:"mx-1 flex items-center"},r.map((function(e){return c.a.createElement(n.c.button,{layout:!0,className:"mx-1 py-1 px-2 bg-main-color text-main-text rounded-full",key:e.value,onClick:function(){return a(e.type)}},o({id:e.type})," : ",e.value)})))))),c.a.createElement(i.a,{isSearchable:!1,options:m,value:t,onChange:s}))}},375:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(2),r=a(1),c=a.n(r),l=a(276),i=a(85),s=a(9),o=a(30),m=a(17),u=a(60),d=a(79),f=a(152),p=a(139),h=a(308),v=a(140);function b(e){var t=e.products,a=e.productsLoading,n=e.sortBy,r=e.filteredProducts,l=e.filteredProductsLoading,i=e.filtersApplied,s=e.handleRemoveFilters,o=e.handleSortByChange,m=e.filters,u=e.setCartMenuOpen;return a?c.a.createElement("div",{className:"py-2"},c.a.createElement(d.a,{speed:2,viewBox:"0 0 752 38",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"38"})),c.a.createElement("div",{className:"category-page-items__grid py-2",style:{minHeight:"calc(100vh - 150px)"}},[0,1,2,3,4,5,6,7,8,9].map((function(e){return c.a.createElement(f.a,{key:e})})))):c.a.createElement("div",{className:"py-2"},c.a.createElement(h.a,{sortBy:n,filters:m,handleRemoveFilters:s,handleSortByChange:o}),0!==t.length&&c.a.createElement("div",{className:"category-page-items__grid py-2 ",style:{minHeight:"calc(100vh - 150px)"}},!i&&t.map((function(e){return"simple"===e.type?c.a.createElement(p.a,{key:e.id,setCartMenuOpen:u,item:e}):c.a.createElement(v.a,{key:e.id,setCartMenuOpen:u,item:e})})),i&&l&&[0,1,2,3,4,5,6,7,8].map((function(e){return c.a.createElement(f.a,{key:e})})),i&&!l&&r&&r.map((function(e){return"simple"===e.type?c.a.createElement(p.a,{key:e.id,setCartMenuOpen:u,item:e}):c.a.createElement(v.a,{key:e.id,setCartMenuOpen:u,item:e})}))),0===t.length&&c.a.createElement("div",{className:"p-4 text-2xl h-full flex items-center justify-center"},c.a.createElement("h1",null,"We Couldn't Find any items that belongs to this category")))}var y=a(306),g=a(307);function x(e){var t=e.productsLoading,a=e.handlePriceChange,n=e.products,r=e.brandFilters,l=e.handleChangePriceInput,i=e.handleBrandChange,s=e.priceFilters,o=e.handleSubmitPrice;return c.a.createElement("div",{className:"py-2"},!t&&c.a.createElement(y.a,{products:n,brandFilters:r,handleBrandChange:i}),!t&&c.a.createElement(g.a,{products:n,priceFilters:s,handlePriceChange:a,handleChangePriceInput:l,handleSubmitPrice:o}))}var E=a(4),N=a(279);function C(){var e=Object(o.i)().query,t=Object(u.a)(),a=t.locale,r=t.formatMessage,d=c.a.useState(null),f=Object(n.a)(d,2),p=f[0],h=f[1],v=c.a.useState({value:"newest",label:"Newest"}),y=Object(n.a)(v,2),g=y[0],C=y[1],O=c.a.useState(1),k=Object(n.a)(O,2),w=k[0],j=k[1],P=c.a.useState(10),S=Object(n.a)(P,2),F=S[0],B=S[1],M=c.a.useState(!1),_=Object(n.a)(M,2),L=_[0],I=_[1],R=c.a.useState([1e4]),H=Object(n.a)(R,2),T=H[0],J=H[1],q=c.a.useState([]),W=Object(n.a)(q,2),A=W[0],G=W[1],D=c.a.useState(!1),z=Object(n.a)(D,2),K=z[0],Q=z[1],U=Object(s.c)(["searchProducts",e],m.I,{retry:!0,refetchOnWindowFocus:!1}),V=U.data,X=U.isLoading,Y=Object(s.c)(["search-filtered-products",{search:e,brandFilters:null===p||void 0===p?void 0:p.id,sortBy:g,page:w,resultsPerPage:F,locale:a,priceFilters:T}],m.l,{retry:!0,refetchOnWindowFocus:!1,enabled:L}),Z=Y.data,$=Y.isLoading;return c.a.useEffect((function(){0===A.length?I(!1):I(!0)}),[A]),c.a.createElement(i.a,null,c.a.createElement(l.a,null,c.a.createElement("title",null,r({id:"search-for"})," ",e," | MRG")),c.a.createElement(E.a,null,K&&c.a.createElement(N.a,{key:"side-cart",setSideMenuOpen:Q}),K&&c.a.createElement(E.c.div,{key:"sidecart-bg",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:function(){return Q(!1)},className:"side__addCart-bg"})),c.a.createElement("div",{className:"max-w-default mx-auto p-4 overflow-hidden",style:{minHeight:"calc(100vh - 150px)"}},c.a.createElement("div",{className:"search-page__container"},c.a.createElement(x,{products:V,productsLoading:X,brandFilters:p,setBrandFilters:h,handleBrandChange:function(e){p===e?(h(null),G((function(e){return e.filter((function(e){return"Brand"!==e.type}))}))):(G((function(t){var a=t.filter((function(e){return"Brand"!==e.type}));return a.push({type:"Brand",value:e.label}),a})),h(e))},priceFilters:T,handlePriceChange:function(e){J(e)},handleChangePriceInput:function(e){e.target.value<0||e.target.value>1e4||J([e.target.value])},handleSubmitPrice:function(){G((function(e){var t=e.filter((function(e){return"Price"!==e.type}));return t.push({type:"Price",value:"Max ".concat(T[0])}),t}))}}),c.a.createElement(b,{products:V,productsLoading:X,sortBy:g,setPage:j,setResultsPerPage:B,filteredProducts:Z,filteredProductsLoading:$,filtersApplied:L,filters:A,handleRemoveFilters:function(e){G((function(t){return t.filter((function(t){return t.type!==e}))})),"Brand"===e&&h(null),"Sort"===e&&C({value:"newest",label:"Newest"}),"Price"===e&&G((function(e){return e.filter((function(e){return"Price"!==e.type}))}))},handleSortByChange:function(e){if("newest"===e.value)return G((function(e){return e.filter((function(e){return"Sort"!==e.type}))})),void C(e);G((function(t){var a=t.filter((function(e){return"Sort"!==e.type}));return a.push({type:"Sort",value:e.label}),a})),C(e)},setCartMenuOpen:Q}))))}}}]);
//# sourceMappingURL=16.917d22f8.chunk.js.map